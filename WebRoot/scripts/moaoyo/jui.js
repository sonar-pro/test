/*
 * jQuery UI 1.8.13
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(a,e){a.ui=a.ui||{};if(a.ui.version){return}a.extend(a.ui,{version:"1.8.13",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({_focus:a.fn.focus,focus:function(f,g){return typeof f==="number"?this.each(function(){var h=this;setTimeout(function(){a(h).focus();if(g){g.call(h)}},f)}):this._focus.apply(this,arguments)},scrollParent:function(){var f;if((a.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){f=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(a.curCSS(this,"position",1))&&(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}else{f=this.parents().filter(function(){return(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!f.length?a(document):f},zIndex:function(j){if(j!==e){return this.css("zIndex",j)}if(this.length){var g=a(this[0]),f,h;while(g.length&&g[0]!==document){f=g.css("position");if(f==="absolute"||f==="relative"||f==="fixed"){h=parseInt(g.css("zIndex"),10);if(!isNaN(h)&&h!==0){return h}}g=g.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(f){f.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.each(["Width","Height"],function(h,f){var g=f==="Width"?["Left","Right"]:["Top","Bottom"],j=f.toLowerCase(),l={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};function k(o,n,m,p){a.each(g,function(){n-=parseFloat(a.curCSS(o,"padding"+this,true))||0;if(m){n-=parseFloat(a.curCSS(o,"border"+this+"Width",true))||0}if(p){n-=parseFloat(a.curCSS(o,"margin"+this,true))||0}});return n}a.fn["inner"+f]=function(m){if(m===e){return l["inner"+f].call(this)}return this.each(function(){a(this).css(j,k(this,m)+"px")})};a.fn["outer"+f]=function(m,n){if(typeof m!=="number"){return l["outer"+f].call(this,m)}return this.each(function(){a(this).css(j,k(this,m,true,n)+"px")})}});function d(h,f){var l=h.nodeName.toLowerCase();if("area"===l){var k=h.parentNode,j=k.name,g;if(!h.href||!j||k.nodeName.toLowerCase()!=="map"){return false}g=a("img[usemap=#"+j+"]")[0];return !!g&&c(g)}return(/input|select|textarea|button|object/.test(l)?!h.disabled:"a"==l?h.href||f:f)&&c(h)}function c(f){return !a(f).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.extend(a.expr[":"],{data:function(h,g,f){return !!a.data(h,f[3])},focusable:function(f){return d(f,!isNaN(a.attr(f,"tabindex")))},tabbable:function(h){var f=a.attr(h,"tabindex"),g=isNaN(f);return(g||f>=0)&&d(h,!g)}});a(function(){var f=document.body,g=f.appendChild(g=document.createElement("div"));a.extend(g.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=g.offsetHeight===100;a.support.selectstart="onselectstart" in g;f.removeChild(g).style.display="none"});a.extend(a.ui,{plugin:{add:function(g,h,k){var j=a.ui[g].prototype;for(var f in k){j.plugins[f]=j.plugins[f]||[];j.plugins[f].push([h,k[f]])}},call:function(f,h,g){var k=f.plugins[h];if(!k||!f.element[0].parentNode){return}for(var j=0;j<k.length;j++){if(f.options[k[j][0]]){k[j][1].apply(f.element,g)}}}},contains:function(g,f){return document.compareDocumentPosition?g.compareDocumentPosition(f)&16:g!==f&&g.contains(f)},hasScroll:function(j,g){if(a(j).css("overflow")==="hidden"){return false}var f=(g&&g==="left")?"scrollLeft":"scrollTop",h=false;if(j[f]>0){return true}j[f]=1;h=(j[f]>0);j[f]=0;return h},isOverAxis:function(g,f,h){return(g>f)&&(g<(f+h))},isOver:function(l,g,k,j,f,h){return a.ui.isOverAxis(l,k,f)&&a.ui.isOverAxis(g,j,h)}})})(jQuery);
/*
 * jQuery UI Widget 1.8.13
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(c,e){if(c.cleanData){var d=c.cleanData;c.cleanData=function(f){for(var g=0,h;(h=f[g])!=null;g++){c(h).triggerHandler("remove")}d(f)}}else{var a=c.fn.remove;c.fn.remove=function(f,g){return this.each(function(){if(!g){if(!f||c.filter(f,[this]).length){c("*",this).add([this]).each(function(){c(this).triggerHandler("remove")})}}return a.call(c(this),f,g)})}}c.widget=function(g,j,f){var h=g.split(".")[0],l;g=g.split(".")[1];l=h+"-"+g;if(!f){f=j;j=c.Widget}c.expr[":"][l]=function(m){return !!c.data(m,g)};c[h]=c[h]||{};c[h][g]=function(m,n){if(arguments.length){this._createWidget(m,n)}};var k=new j();k.options=c.extend(true,{},k.options);c[h][g].prototype=c.extend(true,k,{namespace:h,widgetName:g,widgetEventPrefix:c[h][g].prototype.widgetEventPrefix||g,widgetBaseClass:l},f);c.widget.bridge(g,c[h][g])};c.widget.bridge=function(g,f){c.fn[g]=function(k){var h=typeof k==="string",j=Array.prototype.slice.call(arguments,1),l=this;k=!h&&j.length?c.extend.apply(null,[true,k].concat(j)):k;if(h&&k.charAt(0)==="_"){return l}if(h){this.each(function(){var m=c.data(this,g),n=m&&c.isFunction(m[k])?m[k].apply(m,j):m;if(n!==m&&n!==e){l=n;return false}})}else{this.each(function(){var m=c.data(this,g);if(m){m.option(k||{})._init()}else{c.data(this,g,new f(k,this))}})}return l}};c.Widget=function(f,g){if(arguments.length){this._createWidget(f,g)}};c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(g,h){c.data(h,this.widgetName,this);this.element=c(h);this.options=c.extend(true,{},this.options,this._getCreateOptions(),g);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return c.metadata&&c.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(g,h){var f=g;if(arguments.length===0){return c.extend({},this.options)}if(typeof g==="string"){if(h===e){return this.options[g]}f={};f[g]=h}this._setOptions(f);return this},_setOptions:function(g){var f=this;c.each(g,function(h,j){f._setOption(h,j)});return this},_setOption:function(f,g){this.options[f]=g;if(f==="disabled"){this.widget()[g?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",g)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(g,h,j){var l=this.options[g];h=c.Event(h);h.type=(g===this.widgetEventPrefix?g:this.widgetEventPrefix+g).toLowerCase();j=j||{};if(h.originalEvent){for(var f=c.event.props.length,k;f;){k=c.event.props[--f];h[k]=h.originalEvent[k]}}this.element.trigger(h,j);return !(c.isFunction(l)&&l.call(this.element[0],h,j)===false||h.isDefaultPrevented())}}})(jQuery);
/*
 * jQuery UI Mouse 1.8.13
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(c,d){var a=false;c(document).mousedown(function(f){a=false});c.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(f){return e._mouseDown(f)}).bind("click."+this.widgetName,function(f){if(true===c.data(f.target,e.widgetName+".preventClickEvent")){c.removeData(f.target,e.widgetName+".preventClickEvent");f.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(g){if(a){return}(this._mouseStarted&&this._mouseUp(g));this._mouseDownEvent=g;var f=this,h=(g.which==1),e=(typeof this.options.cancel=="string"?c(g.target).parents().add(g.target).filter(this.options.cancel).length:false);if(!h||e||!this._mouseCapture(g)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){f.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(g)&&this._mouseDelayMet(g)){this._mouseStarted=(this._mouseStart(g)!==false);if(!this._mouseStarted){g.preventDefault();return true}}if(true===c.data(g.target,this.widgetName+".preventClickEvent")){c.removeData(g.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(j){return f._mouseMove(j)};this._mouseUpDelegate=function(j){return f._mouseUp(j)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);g.preventDefault();a=true;return true},_mouseMove:function(e){if(c.browser.msie&&!(document.documentMode>=9)&&!e.button){return this._mouseUp(e)}if(this._mouseStarted){this._mouseDrag(e);return e.preventDefault()}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,e)!==false);(this._mouseStarted?this._mouseDrag(e):this._mouseUp(e))}return !this._mouseStarted},_mouseUp:function(e){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(e.target==this._mouseDownEvent.target){c.data(e.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(e)}return false},_mouseDistanceMet:function(e){return(Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance)},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return true}})})(jQuery);(function(g,h){g.ui=g.ui||{};var e=/left|center|right/,f=/top|center|bottom/,a="center",c=g.fn.position,d=g.fn.offset;g.fn.position=function(k){if(!k||!k.of){return c.apply(this,arguments)}k=g.extend({},k);var o=g(k.of),n=o[0],q=(k.collision||"flip").split(" "),p=k.offset?k.offset.split(" "):[0,0],m,j,l;if(n.nodeType===9){m=o.width();j=o.height();l={top:0,left:0}}else{if(n.setTimeout){m=o.width();j=o.height();l={top:o.scrollTop(),left:o.scrollLeft()}}else{if(n.preventDefault){k.at="left top";m=j=0;l={top:k.of.pageY,left:k.of.pageX}}else{m=o.outerWidth();j=o.outerHeight();l=o.offset()}}}g.each(["my","at"],function(){var r=(k[this]||"").split(" ");if(r.length===1){r=e.test(r[0])?r.concat([a]):f.test(r[0])?[a].concat(r):[a,a]}r[0]=e.test(r[0])?r[0]:a;r[1]=f.test(r[1])?r[1]:a;k[this]=r});if(q.length===1){q[1]=q[0]}p[0]=parseInt(p[0],10)||0;if(p.length===1){p[1]=p[0]}p[1]=parseInt(p[1],10)||0;if(k.at[0]==="right"){l.left+=m}else{if(k.at[0]===a){l.left+=m/2}}if(k.at[1]==="bottom"){l.top+=j}else{if(k.at[1]===a){l.top+=j/2}}l.left+=p[0];l.top+=p[1];return this.each(function(){var u=g(this),w=u.outerWidth(),t=u.outerHeight(),v=parseInt(g.curCSS(this,"marginLeft",true))||0,s=parseInt(g.curCSS(this,"marginTop",true))||0,y=w+v+(parseInt(g.curCSS(this,"marginRight",true))||0),z=t+s+(parseInt(g.curCSS(this,"marginBottom",true))||0),x=g.extend({},l),r;if(k.my[0]==="right"){x.left-=w}else{if(k.my[0]===a){x.left-=w/2}}if(k.my[1]==="bottom"){x.top-=t}else{if(k.my[1]===a){x.top-=t/2}}x.left=Math.round(x.left);x.top=Math.round(x.top);r={left:x.left-v,top:x.top-s};g.each(["left","top"],function(B,A){if(g.ui.position[q[B]]){g.ui.position[q[B]][A](x,{targetWidth:m,targetHeight:j,elemWidth:w,elemHeight:t,collisionPosition:r,collisionWidth:y,collisionHeight:z,offset:p,my:k.my,at:k.at})}});if(g.fn.bgiframe){u.bgiframe()}u.offset(g.extend(x,{using:k.using}))})};g.ui.position={fit:{left:function(j,k){var m=g(window),l=k.collisionPosition.left+k.collisionWidth-m.width()-m.scrollLeft();j.left=l>0?j.left-l:Math.max(j.left-k.collisionPosition.left,j.left)},top:function(j,k){var m=g(window),l=k.collisionPosition.top+k.collisionHeight-m.height()-m.scrollTop();j.top=l>0?j.top-l:Math.max(j.top-k.collisionPosition.top,j.top)}},flip:{left:function(k,m){if(m.at[0]===a){return}var o=g(window),n=m.collisionPosition.left+m.collisionWidth-o.width()-o.scrollLeft(),j=m.my[0]==="left"?-m.elemWidth:m.my[0]==="right"?m.elemWidth:0,l=m.at[0]==="left"?m.targetWidth:-m.targetWidth,p=-2*m.offset[0];k.left+=m.collisionPosition.left<0?j+l+p:n>0?j+l+p:0},top:function(k,m){if(m.at[1]===a){return}var o=g(window),n=m.collisionPosition.top+m.collisionHeight-o.height()-o.scrollTop(),j=m.my[1]==="top"?-m.elemHeight:m.my[1]==="bottom"?m.elemHeight:0,l=m.at[1]==="top"?m.targetHeight:-m.targetHeight,p=-2*m.offset[1];k.top+=m.collisionPosition.top<0?j+l+p:n>0?j+l+p:0}}};if(!g.offset.setOffset){g.offset.setOffset=function(n,k){if(/static/.test(g.curCSS(n,"position"))){n.style.position="relative"}var m=g(n),p=m.offset(),j=parseInt(g.curCSS(n,"top",true),10)||0,o=parseInt(g.curCSS(n,"left",true),10)||0,l={top:(k.top-p.top)+j,left:(k.left-p.left)+o};if("using" in k){k.using.call(n,l)}else{m.css(l)}};g.fn.offset=function(j){var k=this[0];if(!k||!k.ownerDocument){return null}if(j){return this.each(function(){g.offset.setOffset(this,j)})}return d.call(this)}}}(jQuery));(function(a,c){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},destroy:function(){if(!this.element.data("draggable")){return}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this},_mouseCapture:function(d){var e=this.options;if(this.helper||e.disabled||a(d.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(d);if(!this.handle){return false}a(e.iframeFix===true?"iframe":e.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")});return true},_mouseStart:function(d){var e=this.options;this.helper=this._createHelper(d);this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(d);this.originalPageX=d.pageX;this.originalPageY=d.pageY;(e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt));if(e.containment){this._setContainment()}if(this._trigger("start",d)===false){this._clear();return false}this._cacheHelperProportions();if(a.ui.ddmanager&&!e.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,d)}this.helper.addClass("ui-draggable-dragging");this._mouseDrag(d,true);return true},_mouseDrag:function(d,f){this.position=this._generatePosition(d);this.positionAbs=this._convertPositionTo("absolute");if(!f){var e=this._uiHash();if(this._trigger("drag",d,e)===false){this._mouseUp({});return false}this.position=e.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,d)}return false},_mouseStop:function(e){var f=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){f=a.ui.ddmanager.drop(this,e)}if(this.dropped){f=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original"){return false}if((this.options.revert=="invalid"&&!f)||(this.options.revert=="valid"&&f)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,f))){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(d._trigger("stop",e)!==false){d._clear()}})}else{if(this._trigger("stop",e)!==false){this._clear()}}return false},_mouseUp:function(d){if(this.options.iframeFix===true){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}return a.ui.mouse.prototype._mouseUp.call(this,d)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(d){var e=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==d.target){e=true}});return e},_createHelper:function(e){var f=this.options;var d=a.isFunction(f.helper)?a(f.helper.apply(this.element[0],[e])):(f.helper=="clone"?this.element.clone().removeAttr("id"):this.element);if(!d.parents("body").length){d.appendTo((f.appendTo=="parent"?this.element[0].parentNode:f.appendTo))}if(d[0]!=this.element[0]&&!(/(fixed|absolute)/).test(d.css("position"))){d.css("position","absolute")}return d},_adjustOffsetFromHelper:function(d){if(typeof d=="string"){d=d.split(" ")}if(a.isArray(d)){d={left:+d[0],top:+d[1]||0}}if("left" in d){this.offset.click.left=d.left+this.margins.left}if("right" in d){this.offset.click.left=this.helperProportions.width-d.right+this.margins.left}if("top" in d){this.offset.click.top=d.top+this.margins.top}if("bottom" in d){this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){d.left+=this.scrollParent.scrollLeft();d.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){d={top:0,left:0}}return{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var d=this.element.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var g=this.options;if(g.containment=="parent"){g.containment=this.helper[0].parentNode}if(g.containment=="document"||g.containment=="window"){this.containment=[(g.containment=="document"?0:a(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(g.containment=="document"?0:a(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(g.containment=="document"?0:a(window).scrollLeft())+a(g.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(g.containment=="document"?0:a(window).scrollTop())+(a(g.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(g.containment)&&g.containment.constructor!=Array){var h=a(g.containment);var e=h[0];if(!e){return}var f=h.offset();var d=(a(e).css("overflow")!="hidden");this.containment=[(parseInt(a(e).css("borderLeftWidth"),10)||0)+(parseInt(a(e).css("paddingLeft"),10)||0),(parseInt(a(e).css("borderTopWidth"),10)||0)+(parseInt(a(e).css("paddingTop"),10)||0),(d?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a(e).css("borderLeftWidth"),10)||0)-(parseInt(a(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a(e).css("borderTopWidth"),10)||0)-(parseInt(a(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=h}else{if(g.containment.constructor==Array){this.containment=g.containment}}},_convertPositionTo:function(h,k){if(!k){k=this.position}var f=h=="absolute"?1:-1;var g=this.options,e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(e[0].tagName);return{top:(k.top+this.offset.relative.top*f+this.offset.parent.top*f-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:e.scrollTop()))*f)),left:(k.left+this.offset.relative.left*f+this.offset.parent.left*f-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:e.scrollLeft())*f))}},_generatePosition:function(e){var f=this.options,n=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,k=(/(html|body)/i).test(n[0].tagName);var j=e.pageX;var h=e.pageY;if(this.originalPosition){var d;if(this.containment){if(this.relative_container){var m=this.relative_container.offset();d=[this.containment[0]+m.left,this.containment[1]+m.top,this.containment[2]+m.left,this.containment[3]+m.top]}else{d=this.containment}if(e.pageX-this.offset.click.left<d[0]){j=d[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<d[1]){h=d[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>d[2]){j=d[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>d[3]){h=d[3]+this.offset.click.top}}if(f.grid){var l=this.originalPageY+Math.round((h-this.originalPageY)/f.grid[1])*f.grid[1];h=d?(!(l-this.offset.click.top<d[1]||l-this.offset.click.top>d[3])?l:(!(l-this.offset.click.top<d[1])?l-f.grid[1]:l+f.grid[1])):l;var g=this.originalPageX+Math.round((j-this.originalPageX)/f.grid[0])*f.grid[0];j=d?(!(g-this.offset.click.left<d[0]||g-this.offset.click.left>d[2])?g:(!(g-this.offset.click.left<d[0])?g-f.grid[0]:g+f.grid[0])):g}}return{top:(h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(k?0:n.scrollTop())))),left:(j-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():k?0:n.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(d,e,f){f=f||this._uiHash();a.ui.plugin.call(this,d,[e,f]);if(d=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,d,e,f)},plugins:{},_uiHash:function(d){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.13"});a.ui.plugin.add("draggable","connectToSortable",{start:function(e,g){var f=a(this).data("draggable"),h=f.options,d=a.extend({},g,{item:f.element});f.sortables=[];a(h.connectToSortable).each(function(){var j=a.data(this,"sortable");if(j&&!j.options.disabled){f.sortables.push({instance:j,shouldRevert:j.options.revert});j.refreshPositions();j._trigger("activate",e,d)}})},stop:function(e,g){var f=a(this).data("draggable"),d=a.extend({},g,{item:f.element});a.each(f.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;f.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(e);this.instance.options.helper=this.instance.options._helper;if(f.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",e,d)}})},drag:function(e,h){var g=a(this).data("draggable"),d=this;var f=function(l){var r=this.offset.click.top,q=this.offset.click.left;var j=this.positionAbs.top,n=this.positionAbs.left;var m=l.height,p=l.width;var s=l.top,k=l.left;return a.ui.isOver(j+r,n+q,s,k,m,p)};a.each(g.sortables,function(j){this.instance.positionAbs=g.positionAbs;this.instance.helperProportions=g.helperProportions;this.instance.offset.click=g.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(d).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return h.helper[0]};e.target=this.instance.currentItem[0];this.instance._mouseCapture(e,true);this.instance._mouseStart(e,true,true);this.instance.offset.click.top=g.offset.click.top;this.instance.offset.click.left=g.offset.click.left;this.instance.offset.parent.left-=g.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=g.offset.parent.top-this.instance.offset.parent.top;g._trigger("toSortable",e);g.dropped=this.instance.element;g.currentItem=g.element;this.instance.fromOutside=g}if(this.instance.currentItem){this.instance._mouseDrag(e)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",e,this.instance._uiHash(this.instance));this.instance._mouseStop(e,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}g._trigger("fromSortable",e);g.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(e,f){var d=a("body"),g=a(this).data("draggable").options;if(d.css("cursor")){g._cursor=d.css("cursor")}d.css("cursor",g.cursor)},stop:function(d,e){var f=a(this).data("draggable").options;if(f._cursor){a("body").css("cursor",f._cursor)}}});a.ui.plugin.add("draggable","opacity",{start:function(e,f){var d=a(f.helper),g=a(this).data("draggable").options;if(d.css("opacity")){g._opacity=d.css("opacity")}d.css("opacity",g.opacity)},stop:function(d,e){var f=a(this).data("draggable").options;if(f._opacity){a(e.helper).css("opacity",f._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(e,f){var d=a(this).data("draggable");if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){d.overflowOffset=d.scrollParent.offset()}},drag:function(f,g){var e=a(this).data("draggable"),h=e.options,d=false;if(e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"){if(!h.axis||h.axis!="x"){if((e.overflowOffset.top+e.scrollParent[0].offsetHeight)-f.pageY<h.scrollSensitivity){e.scrollParent[0].scrollTop=d=e.scrollParent[0].scrollTop+h.scrollSpeed}else{if(f.pageY-e.overflowOffset.top<h.scrollSensitivity){e.scrollParent[0].scrollTop=d=e.scrollParent[0].scrollTop-h.scrollSpeed}}}if(!h.axis||h.axis!="y"){if((e.overflowOffset.left+e.scrollParent[0].offsetWidth)-f.pageX<h.scrollSensitivity){e.scrollParent[0].scrollLeft=d=e.scrollParent[0].scrollLeft+h.scrollSpeed}else{if(f.pageX-e.overflowOffset.left<h.scrollSensitivity){e.scrollParent[0].scrollLeft=d=e.scrollParent[0].scrollLeft-h.scrollSpeed}}}}else{if(!h.axis||h.axis!="x"){if(f.pageY-a(document).scrollTop()<h.scrollSensitivity){d=a(document).scrollTop(a(document).scrollTop()-h.scrollSpeed)}else{if(a(window).height()-(f.pageY-a(document).scrollTop())<h.scrollSensitivity){d=a(document).scrollTop(a(document).scrollTop()+h.scrollSpeed)}}}if(!h.axis||h.axis!="y"){if(f.pageX-a(document).scrollLeft()<h.scrollSensitivity){d=a(document).scrollLeft(a(document).scrollLeft()-h.scrollSpeed)}else{if(a(window).width()-(f.pageX-a(document).scrollLeft())<h.scrollSensitivity){d=a(document).scrollLeft(a(document).scrollLeft()+h.scrollSpeed)}}}}if(d!==false&&a.ui.ddmanager&&!h.dropBehaviour){a.ui.ddmanager.prepareOffsets(e,f)}}});a.ui.plugin.add("draggable","snap",{start:function(e,f){var d=a(this).data("draggable"),g=d.options;d.snapElements=[];a(g.snap.constructor!=String?(g.snap.items||":data(draggable)"):g.snap).each(function(){var j=a(this);var h=j.offset();if(this!=d.element[0]){d.snapElements.push({item:this,width:j.outerWidth(),height:j.outerHeight(),top:h.top,left:h.left})}})},drag:function(v,q){var h=a(this).data("draggable"),s=h.options;var z=s.snapTolerance;var y=q.offset.left,x=y+h.helperProportions.width,g=q.offset.top,f=g+h.helperProportions.height;for(var w=h.snapElements.length-1;w>=0;w--){var u=h.snapElements[w].left,p=u+h.snapElements[w].width,n=h.snapElements[w].top,B=n+h.snapElements[w].height;if(!((u-z<y&&y<p+z&&n-z<g&&g<B+z)||(u-z<y&&y<p+z&&n-z<f&&f<B+z)||(u-z<x&&x<p+z&&n-z<g&&g<B+z)||(u-z<x&&x<p+z&&n-z<f&&f<B+z))){if(h.snapElements[w].snapping){(h.options.snap.release&&h.options.snap.release.call(h.element,v,a.extend(h._uiHash(),{snapItem:h.snapElements[w].item})))}h.snapElements[w].snapping=false;continue}if(s.snapMode!="inner"){var e=Math.abs(n-f)<=z;var A=Math.abs(B-g)<=z;var k=Math.abs(u-x)<=z;var m=Math.abs(p-y)<=z;if(e){q.position.top=h._convertPositionTo("relative",{top:n-h.helperProportions.height,left:0}).top-h.margins.top}if(A){q.position.top=h._convertPositionTo("relative",{top:B,left:0}).top-h.margins.top}if(k){q.position.left=h._convertPositionTo("relative",{top:0,left:u-h.helperProportions.width}).left-h.margins.left}if(m){q.position.left=h._convertPositionTo("relative",{top:0,left:p}).left-h.margins.left}}var j=(e||A||k||m);if(s.snapMode!="outer"){var e=Math.abs(n-g)<=z;var A=Math.abs(B-f)<=z;var k=Math.abs(u-y)<=z;var m=Math.abs(p-x)<=z;if(e){q.position.top=h._convertPositionTo("relative",{top:n,left:0}).top-h.margins.top}if(A){q.position.top=h._convertPositionTo("relative",{top:B-h.helperProportions.height,left:0}).top-h.margins.top}if(k){q.position.left=h._convertPositionTo("relative",{top:0,left:u}).left-h.margins.left}if(m){q.position.left=h._convertPositionTo("relative",{top:0,left:p-h.helperProportions.width}).left-h.margins.left}}if(!h.snapElements[w].snapping&&(e||A||k||m||j)){(h.options.snap.snap&&h.options.snap.snap.call(h.element,v,a.extend(h._uiHash(),{snapItem:h.snapElements[w].item})))}h.snapElements[w].snapping=(e||A||k||m||j)}}});a.ui.plugin.add("draggable","stack",{start:function(e,f){var h=a(this).data("draggable").options;var g=a.makeArray(a(h.stack)).sort(function(k,j){return(parseInt(a(k).css("zIndex"),10)||0)-(parseInt(a(j).css("zIndex"),10)||0)});if(!g.length){return}var d=parseInt(g[0].style.zIndex)||0;a(g).each(function(j){this.style.zIndex=d+j});this[0].style.zIndex=d+g.length}});a.ui.plugin.add("draggable","zIndex",{start:function(e,f){var d=a(f.helper),g=a(this).data("draggable").options;if(d.css("zIndex")){g._zIndex=d.css("zIndex")}d.css("zIndex",g.zIndex)},stop:function(d,e){var f=a(this).data("draggable").options;if(f._zIndex){a(e.helper).css("zIndex",f._zIndex)}}})})(jQuery);(function(a,c){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var d=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?d.axis==="x"||(/left|right/).test(this.items[0].item.css("float"))||(/inline|table-cell/).test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var d=this.items.length-1;d>=0;d--){this.items[d].item.removeData("sortable-item")}return this},_setOption:function(d,e){if(d==="disabled"){this.options[d]=e;this.widget()[e?"addClass":"removeClass"]("ui-sortable-disabled")}else{a.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(g,h){if(this.reverting){return false}if(this.options.disabled||this.options.type=="static"){return false}this._refreshItems(g);var f=null,e=this,d=a(g.target).parents().each(function(){if(a.data(this,"sortable-item")==e){f=a(this);return false}});if(a.data(g.target,"sortable-item")==e){f=a(g.target)}if(!f){return false}if(this.options.handle&&!h){var j=false;a(this.options.handle,f).find("*").andSelf().each(function(){if(this==g.target){j=true}});if(!j){return false}}this.currentItem=f;this._removeCurrentsFromItems();return true},_mouseStart:function(g,h,d){var j=this.options,e=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(g);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");a.extend(this.offset,{click:{left:g.pageX-this.offset.left,top:g.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(g);this.originalPageX=g.pageX;this.originalPageY=g.pageY;(j.cursorAt&&this._adjustOffsetFromHelper(j.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!=this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(j.containment){this._setContainment()}if(j.cursor){if(a("body").css("cursor")){this._storedCursor=a("body").css("cursor")}a("body").css("cursor",j.cursor)}if(j.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",j.opacity)}if(j.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",j.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",g,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!d){for(var f=this.containers.length-1;f>=0;f--){this.containers[f]._trigger("activate",g,e._uiHash(this))}}if(a.ui.ddmanager){a.ui.ddmanager.current=this}if(a.ui.ddmanager&&!j.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,g)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(g);return true},_mouseDrag:function(h){this.position=this._generatePosition(h);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){var j=this.options,d=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-h.pageY<j.scrollSensitivity){this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+j.scrollSpeed}else{if(h.pageY-this.overflowOffset.top<j.scrollSensitivity){this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-j.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-h.pageX<j.scrollSensitivity){this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+j.scrollSpeed}else{if(h.pageX-this.overflowOffset.left<j.scrollSensitivity){this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-j.scrollSpeed}}}else{if(h.pageY-a(document).scrollTop()<j.scrollSensitivity){d=a(document).scrollTop(a(document).scrollTop()-j.scrollSpeed)}else{if(a(window).height()-(h.pageY-a(document).scrollTop())<j.scrollSensitivity){d=a(document).scrollTop(a(document).scrollTop()+j.scrollSpeed)}}if(h.pageX-a(document).scrollLeft()<j.scrollSensitivity){d=a(document).scrollLeft(a(document).scrollLeft()-j.scrollSpeed)}else{if(a(window).width()-(h.pageX-a(document).scrollLeft())<j.scrollSensitivity){d=a(document).scrollLeft(a(document).scrollLeft()+j.scrollSpeed)}}}if(d!==false&&a.ui.ddmanager&&!j.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,h)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(var f=this.items.length-1;f>=0;f--){var g=this.items[f],e=g.item[0],k=this._intersectsWithPointer(g);if(!k){continue}if(e!=this.currentItem[0]&&this.placeholder[k==1?"next":"prev"]()[0]!=e&&!a.ui.contains(this.placeholder[0],e)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],e):true)){this.direction=k==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(g)){this._rearrange(h,g)}else{break}this._trigger("change",h,this._uiHash());break}}this._contactContainers(h);if(a.ui.ddmanager){a.ui.ddmanager.drag(this,h)}this._trigger("sort",h,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(e,f){if(!e){return}if(a.ui.ddmanager&&!this.options.dropBehaviour){a.ui.ddmanager.drop(this,e)}if(this.options.revert){var d=this;var g=d.placeholder.offset();d.reverting=true;a(this.helper).animate({left:g.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:g.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(e)})}else{this._clear(e,f)}return false},cancel:function(){var d=this;if(this.dragging){this._mouseUp({target:null});if(this.options.helper=="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,d._uiHash(this));if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",null,d._uiHash(this));this.containers[e].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}a.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){a(this.domPosition.prev).after(this.currentItem)}else{a(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(f){var d=this._getItemsAsjQuery(f&&f.connected);var e=[];f=f||{};a(d).each(function(){var g=(a(f.item||this).attr(f.attribute||"id")||"").match(f.expression||(/(.+)[-=_](.+)/));if(g){e.push((f.key||g[1]+"[]")+"="+(f.key&&f.expression?g[1]:g[2]))}});if(!e.length&&f.key){e.push(f.key+"=")}return e.join("&")},toArray:function(f){var d=this._getItemsAsjQuery(f&&f.connected);var e=[];f=f||{};d.each(function(){e.push(a(f.item||this).attr(f.attribute||"id")||"")});return e},_intersectsWith:function(o){var f=this.positionAbs.left,e=f+this.helperProportions.width,n=this.positionAbs.top,m=n+this.helperProportions.height;var g=o.left,d=g+o.width,p=o.top,k=p+o.height;var q=this.offset.click.top,j=this.offset.click.left;var h=(n+q)>p&&(n+q)<k&&(f+j)>g&&(f+j)<d;if(this.options.tolerance=="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>o[this.floating?"width":"height"])){return h}else{return(g<f+(this.helperProportions.width/2)&&e-(this.helperProportions.width/2)<d&&p<n+(this.helperProportions.height/2)&&m-(this.helperProportions.height/2)<k)}},_intersectsWithPointer:function(f){var g=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,f.top,f.height),e=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,f.left,f.width),j=g&&e,d=this._getDragVerticalDirection(),h=this._getDragHorizontalDirection();if(!j){return false}return this.floating?(((h&&h=="right")||d=="down")?2:1):(d&&(d=="down"?2:1))},_intersectsWithSides:function(g){var e=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,g.top+(g.height/2),g.height),f=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,g.left+(g.width/2),g.width),d=this._getDragVerticalDirection(),h=this._getDragHorizontalDirection();if(this.floating&&h){return((h=="right"&&f)||(h=="left"&&!f))}else{return d&&((d=="down"&&e)||(d=="up"&&!e))}},_getDragVerticalDirection:function(){var d=this.positionAbs.top-this.lastPositionAbs.top;return d!=0&&(d>0?"down":"up")},_getDragHorizontalDirection:function(){var d=this.positionAbs.left-this.lastPositionAbs.left;return d!=0&&(d>0?"right":"left")},refresh:function(d){this._refreshItems(d);this.refreshPositions();return this},_connectWith:function(){var d=this.options;return d.connectWith.constructor==String?[d.connectWith]:d.connectWith},_getItemsAsjQuery:function(d){var n=this;var k=[];var g=[];var l=this._connectWith();if(l&&d){for(var f=l.length-1;f>=0;f--){var m=a(l[f]);for(var e=m.length-1;e>=0;e--){var h=a.data(m[e],"sortable");if(h&&h!=this&&!h.options.disabled){g.push([a.isFunction(h.options.items)?h.options.items.call(h.element):a(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h])}}}}g.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var f=g.length-1;f>=0;f--){g[f][0].each(function(){k.push(this)})}return a(k)},_removeCurrentsFromItems:function(){var f=this.currentItem.find(":data(sortable-item)");for(var e=0;e<this.items.length;e++){for(var d=0;d<f.length;d++){if(f[d]==this.items[e].item[0]){this.items.splice(e,1)}}}},_refreshItems:function(d){this.items=[];this.containers=[this];var l=this.items;var r=this;var h=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],d,{item:this.currentItem}):a(this.options.items,this.element),this]];var n=this._connectWith();if(n){for(var g=n.length-1;g>=0;g--){var o=a(n[g]);for(var f=o.length-1;f>=0;f--){var k=a.data(o[f],"sortable");if(k&&k!=this&&!k.options.disabled){h.push([a.isFunction(k.options.items)?k.options.items.call(k.element[0],d,{item:this.currentItem}):a(k.options.items,k.element),k]);this.containers.push(k)}}}}for(var g=h.length-1;g>=0;g--){var m=h[g][1];var e=h[g][0];for(var f=0,p=e.length;f<p;f++){var q=a(e[f]);q.data("sortable-item",m);l.push({item:q,instance:m,width:0,height:0,left:0,top:0})}}},refreshPositions:function(d){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}for(var f=this.items.length-1;f>=0;f--){var g=this.items[f];if(g.instance!=this.currentContainer&&this.currentContainer&&g.item[0]!=this.currentItem[0]){continue}var e=this.options.toleranceElement?a(this.options.toleranceElement,g.item):g.item;if(!d){g.width=e.outerWidth();g.height=e.outerHeight()}var h=e.offset();g.left=h.left;g.top=h.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var f=this.containers.length-1;f>=0;f--){var h=this.containers[f].element.offset();this.containers[f].containerCache.left=h.left;this.containers[f].containerCache.top=h.top;this.containers[f].containerCache.width=this.containers[f].element.outerWidth();this.containers[f].containerCache.height=this.containers[f].element.outerHeight()}}return this},_createPlaceholder:function(f){var d=f||this,g=d.options;if(!g.placeholder||g.placeholder.constructor==String){var e=g.placeholder;g.placeholder={element:function(){var h=a(document.createElement(d.currentItem[0].nodeName)).addClass(e||d.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!e){h.style.visibility="hidden"}return h},update:function(h,j){if(e&&!g.forcePlaceholderSize){return}if(!j.height()){j.height(d.currentItem.innerHeight()-parseInt(d.currentItem.css("paddingTop")||0,10)-parseInt(d.currentItem.css("paddingBottom")||0,10))}if(!j.width()){j.width(d.currentItem.innerWidth()-parseInt(d.currentItem.css("paddingLeft")||0,10)-parseInt(d.currentItem.css("paddingRight")||0,10))}}}}d.placeholder=a(g.placeholder.element.call(d.element,d.currentItem));d.currentItem.after(d.placeholder);g.placeholder.update(d,d.placeholder)},_contactContainers:function(d){var f=null,m=null;for(var h=this.containers.length-1;h>=0;h--){if(a.ui.contains(this.currentItem[0],this.containers[h].element[0])){continue}if(this._intersectsWith(this.containers[h].containerCache)){if(f&&a.ui.contains(this.containers[h].element[0],f.element[0])){continue}f=this.containers[h];m=h}else{if(this.containers[h].containerCache.over){this.containers[h]._trigger("out",d,this._uiHash(this));this.containers[h].containerCache.over=0}}}if(!f){return}if(this.containers.length===1){this.containers[m]._trigger("over",d,this._uiHash(this));this.containers[m].containerCache.over=1}else{if(this.currentContainer!=this.containers[m]){var l=10000;var k=null;var e=this.positionAbs[this.containers[m].floating?"left":"top"];for(var g=this.items.length-1;g>=0;g--){if(!a.ui.contains(this.containers[m].element[0],this.items[g].item[0])){continue}var n=this.items[g][this.containers[m].floating?"left":"top"];if(Math.abs(n-e)<l){l=Math.abs(n-e);k=this.items[g]}}if(!k&&!this.options.dropOnEmpty){return}this.currentContainer=this.containers[m];k?this._rearrange(d,k,null,true):this._rearrange(d,null,this.containers[m].element,true);this._trigger("change",d,this._uiHash());this.containers[m]._trigger("change",d,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[m]._trigger("over",d,this._uiHash(this));this.containers[m].containerCache.over=1}}},_createHelper:function(e){var f=this.options;var d=a.isFunction(f.helper)?a(f.helper.apply(this.element[0],[e,this.currentItem])):(f.helper=="clone"?this.currentItem.clone():this.currentItem);if(!d.parents("body").length){a(f.appendTo!="parent"?f.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0])}if(d[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(d[0].style.width==""||f.forceHelperSize){d.width(this.currentItem.width())}if(d[0].style.height==""||f.forceHelperSize){d.height(this.currentItem.height())}return d},_adjustOffsetFromHelper:function(d){if(typeof d=="string"){d=d.split(" ")}if(a.isArray(d)){d={left:+d[0],top:+d[1]||0}}if("left" in d){this.offset.click.left=d.left+this.margins.left}if("right" in d){this.offset.click.left=this.helperProportions.width-d.right+this.margins.left}if("top" in d){this.offset.click.top=d.top+this.margins.top}if("bottom" in d){this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){d.left+=this.scrollParent.scrollLeft();d.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){d={top:0,left:0}}return{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var d=this.currentItem.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var g=this.options;if(g.containment=="parent"){g.containment=this.helper[0].parentNode}if(g.containment=="document"||g.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(g.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(g.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(g.containment)){var e=a(g.containment)[0];var f=a(g.containment).offset();var d=(a(e).css("overflow")!="hidden");this.containment=[f.left+(parseInt(a(e).css("borderLeftWidth"),10)||0)+(parseInt(a(e).css("paddingLeft"),10)||0)-this.margins.left,f.top+(parseInt(a(e).css("borderTopWidth"),10)||0)+(parseInt(a(e).css("paddingTop"),10)||0)-this.margins.top,f.left+(d?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a(e).css("borderLeftWidth"),10)||0)-(parseInt(a(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,f.top+(d?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a(e).css("borderTopWidth"),10)||0)-(parseInt(a(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(h,k){if(!k){k=this.position}var f=h=="absolute"?1:-1;var g=this.options,e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(e[0].tagName);return{top:(k.top+this.offset.relative.top*f+this.offset.parent.top*f-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:e.scrollTop()))*f)),left:(k.left+this.offset.relative.left*f+this.offset.parent.left*f-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:e.scrollLeft())*f))}},_generatePosition:function(g){var k=this.options,d=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=(/(html|body)/i).test(d[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var f=g.pageX;var e=g.pageY;if(this.originalPosition){if(this.containment){if(g.pageX-this.offset.click.left<this.containment[0]){f=this.containment[0]+this.offset.click.left}if(g.pageY-this.offset.click.top<this.containment[1]){e=this.containment[1]+this.offset.click.top}if(g.pageX-this.offset.click.left>this.containment[2]){f=this.containment[2]+this.offset.click.left}if(g.pageY-this.offset.click.top>this.containment[3]){e=this.containment[3]+this.offset.click.top}}if(k.grid){var j=this.originalPageY+Math.round((e-this.originalPageY)/k.grid[1])*k.grid[1];e=this.containment?(!(j-this.offset.click.top<this.containment[1]||j-this.offset.click.top>this.containment[3])?j:(!(j-this.offset.click.top<this.containment[1])?j-k.grid[1]:j+k.grid[1])):j;var h=this.originalPageX+Math.round((f-this.originalPageX)/k.grid[0])*k.grid[0];f=this.containment?(!(h-this.offset.click.left<this.containment[0]||h-this.offset.click.left>this.containment[2])?h:(!(h-this.offset.click.left<this.containment[0])?h-k.grid[0]:h+k.grid[0])):h}}return{top:(e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(l?0:d.scrollTop())))),left:(f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():l?0:d.scrollLeft())))}},_rearrange:function(j,h,e,g){e?e[0].appendChild(this.placeholder[0]):h.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction=="down"?h.item[0]:h.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var f=this,d=this.counter;window.setTimeout(function(){if(d==f.counter){f.refreshPositions(!g)}},0)},_clear:function(f,g){this.reverting=false;var h=[],d=this;if(!this._noFinalSort&&this.currentItem[0].parentNode){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var e in this._storedCSS){if(this._storedCSS[e]=="auto"||this._storedCSS[e]=="static"){this._storedCSS[e]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!g){h.push(function(j){this._trigger("receive",j,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!g){h.push(function(j){this._trigger("update",j,this._uiHash())})}if(!a.ui.contains(this.element[0],this.currentItem[0])){if(!g){h.push(function(j){this._trigger("remove",j,this._uiHash())})}for(var e=this.containers.length-1;e>=0;e--){if(a.ui.contains(this.containers[e].element[0],this.currentItem[0])&&!g){h.push((function(j){return function(k){j._trigger("receive",k,this._uiHash(this))}}).call(this,this.containers[e]));h.push((function(j){return function(k){j._trigger("update",k,this._uiHash(this))}}).call(this,this.containers[e]))}}}for(var e=this.containers.length-1;e>=0;e--){if(!g){h.push((function(j){return function(k){j._trigger("deactivate",k,this._uiHash(this))}}).call(this,this.containers[e]))}if(this.containers[e].containerCache.over){h.push((function(j){return function(k){j._trigger("out",k,this._uiHash(this))}}).call(this,this.containers[e]));this.containers[e].containerCache.over=0}}if(this._storedCursor){a("body").css("cursor",this._storedCursor)}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!g){this._trigger("beforeStop",f,this._uiHash());for(var e=0;e<h.length;e++){h[e].call(this,f)}this._trigger("stop",f,this._uiHash())}return false}if(!g){this._trigger("beforeStop",f,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!=this.currentItem[0]){this.helper.remove()}this.helper=null;if(!g){for(var e=0;e<h.length;e++){h[e].call(this,f)}this._trigger("stop",f,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(a.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(e){var d=e||this;return{helper:d.helper,placeholder:d.placeholder||a([]),position:d.position,originalPosition:d.originalPosition,offset:d.positionAbs,item:d.currentItem,sender:e?e.element:null}}});a.extend(a.ui.sortable,{version:"1.8.13"})})(jQuery);(function(c,d){var a=5;c.widget("ui.slider",c.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var f=this,l=this.options,k=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),j="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",e=(l.values&&l.values.length)||1,h=[];this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(l.disabled?" ui-slider-disabled ui-disabled":""));this.range=c([]);if(l.range){if(l.range===true){if(!l.values){l.values=[this._valueMin(),this._valueMin()]}if(l.values.length&&l.values.length!==2){l.values=[l.values[0],l.values[0]]}}this.range=c("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+((l.range==="min"||l.range==="max")?" ui-slider-range-"+l.range:""))}for(var g=k.length;g<e;g+=1){h.push(j)}this.handles=k.add(c(h.join("")).appendTo(f.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(m){m.preventDefault()}).hover(function(){if(!l.disabled){c(this).addClass("ui-state-hover")}},function(){c(this).removeClass("ui-state-hover")}).focus(function(){if(!l.disabled){c(".ui-slider .ui-state-focus").removeClass("ui-state-focus");c(this).addClass("ui-state-focus")}else{c(this).blur()}}).blur(function(){c(this).removeClass("ui-state-focus")});this.handles.each(function(m){c(this).data("index.ui-slider-handle",m)});this.handles.keydown(function(r){var o=true,n=c(this).data("index.ui-slider-handle"),s,p,m,q;if(f.options.disabled){return}switch(r.keyCode){case c.ui.keyCode.HOME:case c.ui.keyCode.END:case c.ui.keyCode.PAGE_UP:case c.ui.keyCode.PAGE_DOWN:case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:o=false;if(!f._keySliding){f._keySliding=true;c(this).addClass("ui-state-active");s=f._start(r,n);if(s===false){return}}break}q=f.options.step;if(f.options.values&&f.options.values.length){p=m=f.values(n)}else{p=m=f.value()}switch(r.keyCode){case c.ui.keyCode.HOME:m=f._valueMin();break;case c.ui.keyCode.END:m=f._valueMax();break;case c.ui.keyCode.PAGE_UP:m=f._trimAlignValue(p+((f._valueMax()-f._valueMin())/a));break;case c.ui.keyCode.PAGE_DOWN:m=f._trimAlignValue(p-((f._valueMax()-f._valueMin())/a));break;case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:if(p===f._valueMax()){return}m=f._trimAlignValue(p+q);break;case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(p===f._valueMin()){return}m=f._trimAlignValue(p-q);break}f._slide(r,n,m);return o}).keyup(function(n){var m=c(this).data("index.ui-slider-handle");if(f._keySliding){f._keySliding=false;f._stop(n,m);f._change(n,m);c(this).removeClass("ui-state-active")}});this._refreshValue();this._animateOff=false},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this},_mouseCapture:function(g){var h=this.options,l,n,f,j,q,m,p,k,e;if(h.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();l={x:g.pageX,y:g.pageY};n=this._normValueFromMouse(l);f=this._valueMax()-this._valueMin()+1;q=this;this.handles.each(function(o){var r=Math.abs(n-q.values(o));if(f>r){f=r;j=c(this);m=o}});if(h.range===true&&this.values(1)===h.min){m+=1;j=c(this.handles[m])}p=this._start(g,m);if(p===false){return false}this._mouseSliding=true;q._handleIndex=m;j.addClass("ui-state-active").focus();k=j.offset();e=!c(g.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=e?{left:0,top:0}:{left:g.pageX-k.left-(j.width()/2),top:g.pageY-k.top-(j.height()/2)-(parseInt(j.css("borderTopWidth"),10)||0)-(parseInt(j.css("borderBottomWidth"),10)||0)+(parseInt(j.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(g,m,n)}this._animateOff=true;return true},_mouseStart:function(e){return true},_mouseDrag:function(g){var e={x:g.pageX,y:g.pageY},f=this._normValueFromMouse(e);this._slide(g,this._handleIndex,f);return false},_mouseStop:function(e){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(e,this._handleIndex);this._change(e,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(f){var e,j,h,g,k;if(this.orientation==="horizontal"){e=this.elementSize.width;j=f.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{e=this.elementSize.height;j=f.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}h=(j/e);if(h>1){h=1}if(h<0){h=0}if(this.orientation==="vertical"){h=1-h}g=this._valueMax()-this._valueMin();k=this._valueMin()+h*g;return this._trimAlignValue(k)},_start:function(g,f){var e={handle:this.handles[f],value:this.value()};if(this.options.values&&this.options.values.length){e.value=this.values(f);e.values=this.values()}return this._trigger("start",g,e)},_slide:function(j,h,g){var e,f,k;if(this.options.values&&this.options.values.length){e=this.values(h?0:1);if((this.options.values.length===2&&this.options.range===true)&&((h===0&&g>e)||(h===1&&g<e))){g=e}if(g!==this.values(h)){f=this.values();f[h]=g;k=this._trigger("slide",j,{handle:this.handles[h],value:g,values:f});e=this.values(h?0:1);if(k!==false){this.values(h,g,true)}}}else{if(g!==this.value()){k=this._trigger("slide",j,{handle:this.handles[h],value:g});if(k!==false){this.value(g)}}}},_stop:function(g,f){var e={handle:this.handles[f],value:this.value()};if(this.options.values&&this.options.values.length){e.value=this.values(f);e.values=this.values()}this._trigger("stop",g,e)},_change:function(g,f){if(!this._keySliding&&!this._mouseSliding){var e={handle:this.handles[f],value:this.value()};if(this.options.values&&this.options.values.length){e.value=this.values(f);e.values=this.values()}this._trigger("change",g,e)}},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e);this._refreshValue();this._change(null,0);return}return this._value()},values:function(f,j){var h,e,g;if(arguments.length>1){this.options.values[f]=this._trimAlignValue(j);this._refreshValue();this._change(null,f);return}if(arguments.length){if(c.isArray(arguments[0])){h=this.options.values;e=arguments[0];for(g=0;g<h.length;g+=1){h[g]=this._trimAlignValue(e[g]);this._change(null,g)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(f)}else{return this.value()}}}else{return this._values()}},_setOption:function(f,g){var e,h=0;if(c.isArray(this.options.values)){h=this.options.values.length}c.Widget.prototype._setOption.apply(this,arguments);switch(f){case"disabled":if(g){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled")}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled")}break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(e=0;e<h;e+=1){this._change(null,e)}this._animateOff=false;break}},_value:function(){var e=this.options.value;e=this._trimAlignValue(e);return e},_values:function(e){var h,g,f;if(arguments.length){h=this.options.values[e];h=this._trimAlignValue(h);return h}else{g=this.options.values.slice();for(f=0;f<g.length;f+=1){g[f]=this._trimAlignValue(g[f])}return g}},_trimAlignValue:function(g){if(g<=this._valueMin()){return this._valueMin()}if(g>=this._valueMax()){return this._valueMax()}var e=(this.options.step>0)?this.options.step:1,f=(g-this._valueMin())%e;alignValue=g-f;if(Math.abs(f)*2>=e){alignValue+=(f>0)?e:(-e)}return parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var h=this.options.range,g=this.options,p=this,f=(!this._animateOff)?g.animate:false,j,e={},k,m,l,n;if(this.options.values&&this.options.values.length){this.handles.each(function(q,o){j=(p.values(q)-p._valueMin())/(p._valueMax()-p._valueMin())*100;e[p.orientation==="horizontal"?"left":"bottom"]=j+"%";c(this).stop(1,1)[f?"animate":"css"](e,g.animate);if(p.options.range===true){if(p.orientation==="horizontal"){if(q===0){p.range.stop(1,1)[f?"animate":"css"]({left:j+"%"},g.animate)}if(q===1){p.range[f?"animate":"css"]({width:(j-k)+"%"},{queue:false,duration:g.animate})}}else{if(q===0){p.range.stop(1,1)[f?"animate":"css"]({bottom:(j)+"%"},g.animate)}if(q===1){p.range[f?"animate":"css"]({height:(j-k)+"%"},{queue:false,duration:g.animate})}}}k=j})}else{m=this.value();l=this._valueMin();n=this._valueMax();j=(n!==l)?(m-l)/(n-l)*100:0;e[p.orientation==="horizontal"?"left":"bottom"]=j+"%";this.handle.stop(1,1)[f?"animate":"css"](e,g.animate);if(h==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[f?"animate":"css"]({width:j+"%"},g.animate)}if(h==="max"&&this.orientation==="horizontal"){this.range[f?"animate":"css"]({width:(100-j)+"%"},{queue:false,duration:g.animate})}if(h==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[f?"animate":"css"]({height:j+"%"},g.animate)}if(h==="max"&&this.orientation==="vertical"){this.range[f?"animate":"css"]({height:(100-j)+"%"},{queue:false,duration:g.animate})}}}});c.extend(c.ui.slider,{version:"1.8.13"})}(jQuery));(function(a){a.fn.bgIframe=a.fn.bgiframe=function(d){if(a.browser.msie&&/6.0/.test(navigator.userAgent)){d=a.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},d||{});var e=function(f){return f&&f.constructor==Number?f+"px":f},c='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+d.src+'"style="display:block;position:absolute;z-index:-1;'+(d.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(d.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":e(d.top))+";left:"+(d.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":e(d.left))+";width:"+(d.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":e(d.width))+";height:"+(d.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":e(d.height))+';"/>';return this.each(function(){if(a("> iframe.bgiframe",this).length==0){this.insertBefore(document.createElement(c),this.firstChild)}})}return this}})(jQuery);(function(g,p,k){var r,d,o,f,v=0,w=g(p),l=g(document),j=g("html"),h=g(function(){h=g("body")}),q=document.documentElement,c=!-[1,]&&!("minWidth" in q.style),t="createTouch" in document&&!("onmousemove" in q)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent),a=t?"touchstart":"mousedown",s="artDialog"+(new Date).getTime();var n=function(y,x,e){y=y||{};if(typeof y==="string"||y.nodeType===1){y={content:y,fixed:!t}}var A,C=[],D=n.defaults,B=y.follow=this.nodeType===1&&this||y.follow;for(var z in D){if(y[z]===k){y[z]=D[z]}}if(typeof B==="string"){B=g(B)[0]}y.id=B&&B[s+"follow"]||y.id||s+v;A=n.list[y.id];if(B&&A){return A.follow(B).zIndex().focus()}if(A){return A.zIndex()}if(t){y.fixed=false}if(!g.isArray(y.button)){y.button=y.button?[y.button]:[]}x=x||y.yesFn;e=e||y.noFn;x&&y.button.push({name:y.yesText,callback:x,focus:true});e&&y.button.push({name:y.noText,callback:e});n.defaults.zIndex=y.zIndex;v++;return n.list[y.id]=r?r._init(y):new n.fn._init(y)};n.fn=n.prototype={version:"4.1.0",_init:function(e){var z=this,y,x=e.icon,A=x&&(c?{png:"icons/"+x+".png"}:{backgroundImage:"url('"+e.path+"/skins/icons/"+x+".png')"});z.config=e;z._listeners={};z._fixed=c?false:e.fixed;z._elemBack=z._timer=z._focus=z._isClose=z._lock=null;y=z.DOM=z.DOM||z._getDOM();y.wrap.addClass(e.skin);y.close[e.noFn===false?"hide":"show"]();y.icon[0].style.display=x?"":"none";y.iconBg.css(A||{background:"none"});y.content.css("padding",e.padding);z[e.show?"show":"hide"](true).button(e.button).title(e.title).content(e.content).size(e.width,e.height).zIndex(e.zIndex).time(e.time);e.follow?z.follow(e.follow):z.position(e.left,e.top);e.lock&&z.lock();e.focus&&z.focus();z._addEvent();c&&z._pngFix();r=null;e.initFn&&e.initFn.call(z,p);return z},content:function(D){var B,x,e,C,A=this,z=A.DOM.content,y=z[0];A._elemBack=null;if(D===k){return y}else{if(typeof D==="string"){z.html(D)}else{if(D&&D.nodeType===1){C=D.style.display;B=D.previousSibling;x=D.nextSibling;e=D.parentNode;A._elemBack=function(){if(B&&B.parentNode){B.parentNode.insertBefore(D,B.nextSibling)}else{if(x&&B.parentNode){x.parentNode.insertBefore(D,x)}else{if(e){e.appendChild(D)}}}D.style.display=C};z.html("");y.appendChild(D);D.style.display="block"}}}c&&A._selectFix();A._runScript(y);return A},title:function(A){var y=this.DOM,x=y.wrap,z=y.title,e="aui_state_noTitle";if(A===k){return z[0]}if(A===false){z.hide().html("");x.addClass(e)}else{z.show().html(A);x.removeClass(e)}return this},position:function(D,I){var H=this,B=H.config,y=H.DOM.wrap,G=c&&H.config.fixed,C=l.scrollLeft(),K=l.scrollTop(),F=H._fixed?0:C,z=H._fixed?0:K,E=w.width(),x=w.height(),A=y[0].offsetWidth,J=y[0].offsetHeight,e=y[0].style;if(!D&&D!==0){D=B.left}if(!I&&I!==0){I=B.top}B.left=D;B.top=I;D=H._toNumber(D,E-A);if(typeof D==="number"){D=G?(D+=C):D+F}if(I==="goldenRatio"){I=(J<4*x/7?x*0.382-J/2:(x-J)/2)+z}else{I=H._toNumber(I,x-J);if(typeof I==="number"){I=G?(I+=K):I+z}}if(typeof D==="number"){e.left=Math.max(D,F)+"px"}else{if(typeof D==="string"){e.left=D}}if(typeof I==="number"){e.top=Math.max(I,z)+"px"}else{if(typeof I==="string"){e.top=I}}H._autoPositionType();return H},size:function(z,G){var E,F,e,I,C=this,A=C.config,H=C.DOM,y=H.wrap,B=H.main,D=y[0].style,x=B[0].style;if(!z&&z!==0){z=A.width}if(!G&&G!==0){G=A.height}E=w.width()-y[0].offsetWidth+B[0].offsetWidth;e=C._toNumber(z,E);A.width=z;z=e;F=w.height()-y[0].offsetHeight+B[0].offsetHeight;I=C._toNumber(G,F);A.height=G;G=I;if(typeof z==="number"){D.width="auto";x.width=Math.max(C.config.minWidth,z)+"px";D.width=y[0].offsetWidth+"px"}else{if(typeof z==="string"){x.width=z;z==="auto"&&y.css("width","auto")}}if(typeof G==="number"){x.height=Math.max(C.config.minHeight,G)+"px"}else{if(typeof G==="string"){x.height=G}}c&&C._selectFix();return C},follow:function(P){var e,D=this;if(typeof P==="string"||P&&P.nodeType===1){e=g(P)}if(!e||e.css("display")==="none"){return D.position(D.config.left,D.config.top)}var G=w.width(),y=w.height(),A=l.scrollLeft(),C=l.scrollTop(),B=e.offset(),L=e[0].offsetWidth,K=e[0].offsetHeight,z=D._fixed?B.left-A:B.left,I=D._fixed?B.top-C:B.top,E=D.DOM.wrap[0],O=E.style,x=E.offsetWidth,N=E.offsetHeight,F=z-(x-L)/2,J=I+K,M=D._fixed?0:A,H=D._fixed?0:C;F=F<M?z:(F+x>G)&&(z-x>M)?z-x+L:F;J=(J+N>y+H)&&(I-N>H)?I-N:J;O.left=F+"px";O.top=J+"px";D.config.follow=P;e[0][s+"follow"]=D.config.id;D._autoPositionType();return D},button:function(){var B=this,D=arguments,A=B.DOM,e=A.wrap,z=A.buttons,y=z[0],x="aui_state_highlight",C=g.isArray(D[0])?D[0]:[].slice.call(D);g.each(C,function(G,J){var E=J.name,H=B._listeners,I=!H[E],F=!I?H[E].elem:document.createElement("button");if(!H[E]){H[E]={}}if(J.callback){H[E].callback=J.callback}if(J.className){F.className=J.className}if(J.focus){B._focus&&B._focus.removeClass(x);B._focus=g(F).addClass(x);B.focus()}F[s+"callback"]=E;F.disabled=!!J.disabled;if(I){F.innerHTML=E;H[E].elem=F;y.appendChild(F)}});z[0].style.display=C.length?"":"none";c&&B._selectFix();return B},show:function(e){this.DOM.wrap.show();!e&&this._lockMaskWrap&&this._lockMaskWrap.show();return this},hide:function(e){this.DOM.wrap.hide();!e&&this._lockMaskWrap&&this._lockMaskWrap.hide();return this},close:function(){var A=this,z=A.DOM,y=z.wrap,B=n.list,x=A.config.closeFn,e=A.config.follow;if(A._isClose){return A}A.time();if(typeof x==="function"&&x.call(A,p)===false){return A}A.unlock();y[0].className=y[0].style.cssText="";A._elemBack&&A._elemBack();z.title.html("");z.content.html("");z.buttons.html("");if(n.focus===A){n.focus=null}if(e){e[s+"follow"]=null}delete B[A.config.id];A._isClose=true;A._removeEvent();A.hide(true)._setAbsolute();r?y.remove():r=A;return A},time:function(e){var y=this,x=y.config.noText,z=y._timer;z&&clearTimeout(z);if(e){y._timer=setTimeout(function(){y._trigger(x)},1000*e)}return y},focus:function(){var C,A,z=this,x=z.config,y=z.DOM;C=z._focus&&z._focus[0]||y.close[0];try{C&&C.focus()}catch(B){}return z},zIndex:function(){var y=this,x=y.DOM.wrap,e=n.defaults.zIndex++,z=n.focus;x.css("zIndex",e);y._lockMask&&y._lockMask.css("zIndex",e-1);if(z){z.DOM.wrap.removeClass("aui_state_focus")}n.focus=y;x.addClass("aui_state_focus");return y},lock:function(){if(this._lock){return this}var B=this,C=n.defaults.zIndex+=2,y=B.DOM.wrap,A=B.config,D=l.width(),G=l.height(),E=B._lockMaskWrap||g(h[0].appendChild(document.createElement("div"))),z=B._lockMask||g(E[0].appendChild(document.createElement("div"))),x="(document).documentElement",e=t?"width:"+D+"px;height:"+G+"px":"width:100%;height:100%",F=c?"position:absolute;left:expression("+x+".scrollLeft);top:expression("+x+".scrollTop);width:expression("+x+".clientWidth);height:expression("+x+".clientHeight)":"";y.css("zIndex",C);E[0].style.cssText=e+";position:fixed;z-index:"+(C-1)+";top:0;left:0;overflow:hidden;"+F;z[0].style.cssText="height:100%;background:"+A.background+";filter:alpha(opacity=0);opacity:0";if(c){z.html('<iframe src="about:blank" style="width:100%;height:100%;position:absolute;top:0;left:0;z-index:-1;filter:alpha(opacity=0)"></iframe>')}z.stop();z[0].ondblclick=function(){B.close()};if(A.duration===0){z.css({opacity:A.opacity})}else{z.animate({opacity:A.opacity},A.duration)}B._lockMaskWrap=E;B._lockMask=z;B._lock=true;return B},unlock:function(z){var B=this,y=B._lockMaskWrap,e=B._lockMask;if(!B._lock){return B}var A=y[0].style;var x=function(){if(c){A.removeExpression("width");A.removeExpression("height");A.removeExpression("left");A.removeExpression("top")}A.cssText="display:none";if(r){y.remove();B._lockMaskWrap=B._lockMask=null}};e.stop();e[0].ondblclick=null;if(B.config.duration===0){x()}else{e.animate({opacity:0},B.config.duration,x)}B._lock=false;return B},_getDOM:function(z){z=document.createElement("div");z.style.cssText="position:absolute;left:0;top:0";z.innerHTML=n.templates;document.body.appendChild(z);var A={wrap:g(z)},y=z.getElementsByTagName("*"),e=y.length;for(var x=0;x<e;x++){A[y[x].className.split("aui_")[1]]=g(y[x])}return A},_toNumber:function(e,y){if(!e&&e!==0||typeof e==="number"){return e}var x=e.length-1;if(e.lastIndexOf("px")===x){e=parseInt(e)}else{if(e.lastIndexOf("%")===x){e=parseInt(y*e.split("%")[0]/100)}}return e},_pngFix:function(){var x=0,z,C,y,e,B=n.defaults.path+"/skins/",A=this.DOM.wrap[0].getElementsByTagName("*");for(;x<A.length;x++){z=A[x];C=z.currentStyle.png;if(C){y=B+C;e=z.runtimeStyle;e.backgroundImage="none";e.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+y+"',sizingMethod='crop')"}}},_selectFix:function(){var z=this.DOM.wrap[0],C=s+"iframeMask",y=z[C],x=z.offsetWidth,e=z.offsetHeight,B=-(x-z.clientWidth)/2+"px",A=-(e-z.clientHeight)/2+"px";x=x+"px";e=e+"px";if(y){y.style.width=x;y.style.height=e}else{y=z.appendChild(document.createElement("iframe"));z[C]=y;y.src="about:blank";y.style.cssText="position:absolute;z-index:-1;left:"+B+";top:"+A+";width:"+x+";height:"+e+";filter:alpha(opacity=0)"}},_runScript:function(B){var e,z=0,C=0,y=B.getElementsByTagName("script"),A=y.length,x=[];for(;z<A;z++){if(y[z].type==="text/dialog"){x[C]=y[z].innerHTML;C++}}if(x.length){x=x.join("");e=new Function(x);e.call(this)}},_autoPositionType:function(){var e=this;e[e.config.fixed?"_setFixed":"_setAbsolute"]()},_setFixed:(function(){c&&g(function(){var e="backgroundAttachment";if(j.css(e)!=="fixed"&&h.css(e)!=="fixed"){j.css({backgroundImage:"url(about:blank)",backgroundAttachment:"fixed"})}});return function(){var z=this.DOM.wrap,A=z[0].style;if(c){var C=parseInt(z.css("left")),B=parseInt(z.css("top")),y=l.scrollLeft(),x=l.scrollTop(),e="(document.documentElement)";this._setAbsolute();A.setExpression("left","eval("+e+".scrollLeft + "+(C-y)+') + "px"');A.setExpression("top","eval("+e+".scrollTop + "+(B-x)+') + "px"')}else{A.position="fixed"}}}()),_setAbsolute:function(){var e=this.DOM.wrap[0].style;if(c){e.removeExpression("left");e.removeExpression("top")}e.position="absolute"},_trigger:function(y){var x=this,e=x._listeners[y]&&x._listeners[y].callback;return typeof e!=="function"||e.call(x,p)!==false?x.close():x},_addEvent:function(){var z,e,B=this,y=B.config,A=B.DOM,x=w.width()*w.height();B._click=function(D){var E=D.target,C;if(E.disabled){return false}if(E===A.close[0]){B._trigger(y.noText);return false}else{C=E[s+"callback"];C&&B._trigger(C)}};B._eventDown=function(){B.zIndex()};z=function(){var D,G=x,F=y.follow,E=y.width,C=y.height,I=y.left,H=y.top;if("all" in document){D=w.width()*w.height();x=D;if(G===D){return}}if(E||C){B.size(E,C)}if(F){B.follow(F)}else{if(I||H){B.position(I,H)}}};B._winResize=function(){e&&clearTimeout(e);e=setTimeout(function(){z()},40)};A.wrap.bind("click",B._click).bind(a,B._eventDown);w.bind("resize",B._winResize)},_removeEvent:function(){var x=this,e=x.DOM;e.wrap.unbind("click",x._click).unbind(a,x._eventDown);w.unbind("resize",x._winResize)}};n.fn._init.prototype=n.fn;g.fn.dialog=g.fn.artDialog=function(){var e=arguments;this[this.live?"live":"bind"]("click",function(){n.apply(this,e);return false});return this};n.focus=null;n.list={};l.bind("keydown",function(y){var A=y.target,B=A.nodeName,e=/^INPUT|TEXTAREA$/,x=n.focus,z=y.keyCode;if(!x||!x.config.esc||e.test(B)){return}z===27&&x._trigger(x.config.noText)});f=p._artDialog_path||(function(e,x,y){for(x in e){if(e[x].src&&e[x].src.indexOf("artDialog")!==-1){y=e[x]}}d=y||e[e.length-1];y=d.src.replace(/\\/g,"/");return y.lastIndexOf("/")<0?".":y.substring(0,y.lastIndexOf("/"))}(document.getElementsByTagName("script")));o=d.src.split("skin=")[1];if(o){var m=document.createElement("link");m.rel="stylesheet";m.href=f+"/skins/"+o+".css?"+n.fn.version;d.parentNode.insertBefore(m,d)}w.bind("load",function(){setTimeout(function(){if(v){return}n({time:9,left:"-9999em",fixed:false,lock:false,focus:false})},150)});try{document.execCommand("BackgroundImageCache",false,true)}catch(u){}n.templates=['<div class="aui_outer">','<table class="aui_border">',"<tbody>","<tr>",'<td class="aui_nw"></td>','<td class="aui_n"></td>','<td class="aui_ne"></td>',"</tr>","<tr>",'<td class="aui_w"></td>','<td class="aui_center">','<table class="aui_inner">',"<tbody>",'<tr style="display:none;">','<td colspan="2" class="aui_header">','<div class="aui_titleBar">','<div class="aui_title"></div>','<a class="aui_close" href="javascript:void(0);">',"\xd7","</a>","</div>","</td>","</tr>","<tr>",'<td class="aui_icon">','<div class="aui_iconBg"></div>',"</td>",'<td class="aui_main">','<div class="aui_content"></div>',"</td>","</tr>",'<tr style="display:none;">','<td colspan="2" class="aui_footer">','<div class="aui_buttons"></div>',"</td>","</tr>","</tbody>","</table>","</td>",'<td class="aui_e"></td>',"</tr>","<tr>",'<td class="aui_sw"></td>','<td class="aui_s"></td>','<td class="aui_se"></td>',"</tr>","</tbody>","</table>","</div>"].join("");n.defaults={content:'<div class="aui_loading"><span>loading..</span></div>',title:"\u6d88\u606f",button:null,yesFn:null,noFn:null,yesText:"\u786E\u5B9A",noText:"\u53D6\u6D88",width:"auto",height:"auto",minWidth:96,minHeight:32,padding:"20px 25px",skin:"",icon:null,initFn:null,closeFn:null,time:null,esc:true,focus:true,show:true,follow:null,path:f,lock:false,background:"#000",opacity:0.7,duration:300,fixed:false,left:"50%",top:"goldenRatio",zIndex:1987};p.artDialog=g.dialog=g.artDialog=n}((window.jQuery&&(window.art=jQuery))||window.art,this));(function(f){f(function(){f(".moko-Dialog-close").live("click",function(){c()})});var e={};f.mokoDialog=function(g){e=f.extend({title:false,border:false,lock:true,fixed:true,id:"mokoDialog",noFn:false,padding:"0",background:"#000",opacity:0.1,param:{}},g);if(e.url!=undefined){d()}else{a()}return this};var d=function(){f.get(e.url,e.param,function(g){e.content=g;a()})},a=function(){f.dialog(e)},c=f.mokoDialog.close=function(g){if(g==undefined){g="mokoDialog"}if(f.dialog({id:g})!=undefined){f.dialog({id:g}).close()}}})(jQuery1);(function(a){a.fn.autoResize=function(c){var d=a.extend({onResize:function(){},animate:true,animateDuration:150,animateCallback:function(){},extraSpace:0,limit:150},c);this.filter("textarea").each(function(){var f=a(this).css({resize:"none","overflow-y":"hidden"}),h=f.height(),j=(function(){var k=["height","width","lineHeight","textDecoration","letterSpacing"],l={};a.each(k,function(m,n){l[n]=f.css(n)});return f.clone().removeAttr("id").removeAttr("name").css({position:"absolute",top:0,left:-9999}).css(l).attr("tabIndex","-1").insertBefore(f)})(),g=null,e=function(l){var n=l.keyCode;if(n==38||n==40||n==9||l.ctrlKey){return}j.height(0).val(a(this).val()).scrollTop(10000);j.width(f.width()-2);var m=Math.max(j.scrollTop(),h)+d.extraSpace,k=a(this).add(j);if(g===m){return}g=m;if(m>=d.limit){a(this).css("overflow-y","");return}d.onResize.call(this);d.animate&&f.css("display")==="block"?k.stop().animate({height:m},d.animateDuration,d.animateCallback):k.height(m)};f.unbind(".dynSiz").bind("keyup.dynSiz",e).bind("keydown.dynSiz",e).bind("change.dynSiz",e)});return this}})(jQuery);(function(a){a.fn.characterLimit=function(c){var e=a.extend({maxlength:140,numTarget:"",substring:false,allowShortURL:true},c);this.bind("keyup cut paste focus blur textchange",function(f){if(f!=null&&f!=undefined){var g=f.keyCode;if(g==38||g==40||g==39||g==37||g==9){return}}var h=this;setTimeout(function(){var k=e.maxlength;if(e.substring&&a.stringUtil.getContentLength(h.value)>k){h.value=d(h.value,k)}if(e.numTarget){var j=a.stringUtil.getContentLength(h.value,e.allowShortURL);a(e.numTarget).html(k-j)}},2)}).trigger("textchange");var d=function(h,g){var f=h.replace(/\*/g," ").replace(/[^\x00-\xff]/g,"**");h=h.slice(0,f.slice(0,g*2).replace(/\*\*/g," ").replace(/\*/g,"").length);if(a.stringUtil.byteLength(h)>g*2){h=h.slice(0,h.length-1)}return h};return this};a.fn.characterLimit2=function(c){var d={maxlength:140,numTarget:"",substring:true,allowShortURL:false};a.extend(d,c);this.characterLimit(d)}})(jQuery);(function(a){a.fn.pinyinSearch=function(c){var e=a.extend({url:"/searchUser|findUserByPinYin.action",type:0,data:{},clickCallback:function(l,j,k){}},c);var g=null,d={};var f=function(){g=a("#moko-pinyinSearch-list");if(g[0]==undefined){g=a("<ul>",{id:"moko-pinyinSearch-list"}).appendTo(document.body)}a(document).bind("click",function(){g.hide()})}();var h=function(k){var j=k.value;if(j==""){return}var l={findfriendname:j,type:e.type};a.extend(l,e.data);a.ajax({url:e.url,type:"post",dataType:"json",data:l,success:function(m){if(m==null||m.friendList==undefined){g.empty().hide();return}g.empty().show();d=m.friendList;a.each(d,function(o,n){a("<li>").append(a('<a href="javascript:void(0)" />').html(n.name)).appendTo(g).bind("click",function(){k.value="";e.clickCallback.call(k,n.id,n.name,n.wkey);g.focus().hide()})});a("#moko-pinyinSearch-list li a:first").addClass("active")}})};this.each(function(){a(this).bind({keyup:function(k){var m=a(this);var j=m.attr("pinyinType");if(j!=undefined){e.type=j}g.width(m.outerWidth()-parseInt(g.css("padding-left"))-parseInt(g.css("padding-right"))-2);g.css({left:m.offset().left,top:m.offset().top+m.outerHeight()});var l=k.keyCode;if(l!=40&&l!=38&&l!=13){h(this)}},keydown:function(k){var m=k.keyCode;var n=null;var l=a('#moko-pinyinSearch-list a[class="active"]');if(m==40){n=l.toggleClass("active").parent("li").next();if(n[0]==undefined){n=l.parents("ul").children("li:first")}n.children("a").toggleClass("active");return false}else{if(m==38){n=l.toggleClass("active").parent("li").prev();if(n[0]==undefined){n=l.parents("ul").children("li:last")}n.children("a").toggleClass("active");return false}else{if(m==13||m==9){this.value="";if(d.length==undefined||d.length<=0){return}var j=d[l.parent("li").index()];e.clickCallback.call(this,j.id,j.name,j.wkey);g.hide();return false}}}}})});return this}})(jQuery1);(function($){if($.mk==undefined){$.mk={}}if($.mk.gift==undefined){$.mk.gift={}}$.mk.gift.userTab=null;$.mk.gift.clickCallBack=function(id,name,event){if(event!=null){event.cancelBubble=true}var $input=$.mk.gift.userTab.data("handler");var settings=$.mk.gift.userTab.data("settings");if(!$input){return}$searchFriend=$input.parents("div.moko-searchFriend");var $temp=$searchFriend.find('input[value="'+id+'"]');if(!this.checked&&$temp[0]!=undefined){$temp.parent().remove();return}if($searchFriend.find("div.moko-user .moko-userLabel").size()>=settings.size){alert("超出最大限制："+settings.size);this.checked=false;return}var $checkbox=$("<input />",{type:"checkbox",name:settings.checkboxName,value:id,checked:true}).hide();var $a=$("<a />",{href:"javascript:void(0)",text:"x"}).bind("click",function(){$(this).parent("div").remove();$input.focus();_resetPosition();$.mk.gift.userTab.find('input[value="'+id+'"]').prop("checked",false)});$("<div />",{"class":"moko-userLabel"}).html(name).append($checkbox).append($a).insertBefore($searchFriend.find('.moko-user input[type="text"]'));_resetPosition()};$.fn.gift=function(options){var settings=$.extend({url:"/gift|oldNewFriendList.action",checkboxName:"userId",defaultData:[],size:5},options);var init=function(){if($.mk.gift.userTab==null){var cssText={position:"absolute","z-index":"10",border:"#ccc solid 1px",width:"370px",height:"170px",overflow:"auto",display:"none",background:"#fff"};$.mk.gift.userTab=$("<div />",{id:"moko-giftUserTab",css:cssText}).appendTo(document.body)}$.mk.gift.userTab.html("请稍候。。。");$.ajax({url:settings.url,type:"post",data:{index:0},success:function(response){$.mk.gift.userTab.html(response)}})}();this.each(function(){var $input=$(this);$input.wrap('<div class="moko-searchFriend" />').wrap('<div class="moko-user" />').parent().before('<div class="moko-cursor"><div class="downCursor"></div></div>');$input.bind({keydown:function(event){if(event.keyCode!=8||this.value!=""){return}$tempDiv=$input.prev();var id=$tempDiv.find("input:checkbox").val();$tempDiv.remove();_resetPosition();setTimeout(function(){_autoCheck()},0)},focus:function(){$.mk.gift.userTab.data("handler",$input);$.mk.gift.userTab.data("settings",settings)}});var $searchFriend=$input.parents(".moko-searchFriend");$searchFriend.bind("click",function(){$input.focus()});$input.parent().prev(".moko-cursor").click(function(event){event.stopPropagation();$.mk.gift.userTab.data("handler",$input);$.mk.gift.userTab.data("settings",settings);$.mk.gift.userTab.toggle();_resetPosition();setTimeout(function(){_autoCheck()},0)});$input.pinyinSearch({type:1,clickCallback:function(id,name){$input.val("").focus();var $searchFriend=$input.parents(".moko-searchFriend");if($searchFriend.find(".moko-userLabel").size()>=settings.size){alert("超出最大限制："+settings.size);return}setTimeout(function(){_autoCheck()},0);if($.mk.gift.userTab.find('input[value="'+id+'"]').is(":checked")){return}_createUserLabel($input,name,id,settings.checkboxName);$.mk.gift.userTab.find('input[value="'+id+'"]').prop("checked",true);_resetPosition()}});var defaultData=[];if($input.attr("defaultData")){defaultData=eval($input.attr("defaultData"))}else{defaultData=settings.defaultData}if(defaultData.length==0){return}$.each(defaultData,function(i,user){if(parseInt(user.id)<=0||user.name==""){return}_createUserLabel($input,user.name,user.id,settings.checkboxName)})})};$(document).click(function(){if($.mk.gift.userTab!=null){$.mk.gift.userTab.hide()}});var _resetPosition=function(){var $input=$.mk.gift.userTab.data("handler");var $searchFriend=$input.parents(".moko-searchFriend");var offset=$searchFriend.offset();var position={left:offset.left+$searchFriend.outerWidth()-$.mk.gift.userTab.outerWidth(),top:offset.top+$searchFriend.outerHeight()+5};$.mk.gift.userTab.css(position)},_autoCheck=function(){var $input=$.mk.gift.userTab.data("handler");var settings=$.mk.gift.userTab.data("settings");var $searchFriend=$input.parents(".moko-searchFriend");var $checkbox=$searchFriend.find(".moko-userLabel input:checkbox");$.mk.gift.userTab.find("input:checkbox").prop("checked",false);$checkbox.each(function(i,obj){$.mk.gift.userTab.find('input[value="'+obj.value+'"]').prop("checked",true)})},_createUserLabel=function($input,name,id,checkboxName){var $checkbox=$("<input />",{type:"checkbox",name:checkboxName,value:id,checked:true}).hide();var $a=$("<a />",{href:"javascript:void(0)",text:"x"}).bind("click",function(){$(this).parent("div").remove();$input.focus();_resetPosition();$.mk.gift.userTab.find('input[value="'+id+'"]').prop("checked",false)});$("<div />",{"class":"moko-userLabel"}).html(name).append($checkbox).append($a).insertBefore($input)}})(jQuery1);(function(a){a.fn.atWho=function(n){if(this.length==0){return}var f=a.extend({url:"/blogUpdate|findUserSubscribeAjax.action",status:"none",cursor:0},n);var l=a("#moko-atWhoDiv"),m=a("#moko-atWhoList"),e=!-[1,];if(l[0]==undefined){l=a("<div />",{id:"moko-atWhoDiv"}).addClass("search_1 wBC atwho").appendTo(document.body).height("auto").hide().css({"z-index":2000});a("<p />",{text:"想用@提到谁?"}).addClass("bd").appendTo(l);m=a("<ul/>",{id:"moko-atWhoList"}).addClass("bd wBC").appendTo(l)}this.each(function(){a(this).bind({keydown:function(r){if(f.status!="show"){return}var v=null,s=m.find('a[class="wC mBC"]');var t=r.keyCode;if(t==40){v=s.attr("class","mwC").parent("li").next();if(v[0]==undefined){v=s.parents("ul").children("li:first")}v.children("a").attr("class","wC mBC");return false}else{if(t==38){v=s.attr("class","mwC").parent("li").prev("li");if(v[0]==undefined){v=s.parents("ul").children("li:last")}v.children("a").attr("class","wC mBC");return false}else{if(t==13||t==9){var o=this.value,u=g(this);var q=o.substring(0,u);q=o.substring(0,q.lastIndexOf("@"));var p=o.substring(u,o.length);this.value=q+"@"+s.text()+" "+p;h(this,f.cursor+s.text().length);m.find("li").remove();l.hide();f.status="none";return false}}}},keyup:function(o){var p=o.keyCode;if(p==38||p==40){return}if(this.value.lastIndexOf("@")==-1){return}var q=g(this);if(this.value.substring(0,q).lastIndexOf("@")!=-1){f.cursor=q;j(this)}},scroll:function(){var o=a("#moko-atWhoCopyTemp");if(o[0]!=undefined){o[0].scrollTop=this.scrollTop}}})});a(document).click(function(){if(l[0]!=undefined){l.hide()}});var d=function(r){$a=a(this);var o=r.value,s=g(r);var q=o.substring(0,s);q=o.substring(0,q.lastIndexOf("@"));var p=o.substring(s,o.length);r.value=q+"@"+$a.text()+" "+p;h(r,f.cursor+$a.text().length);m.find("li").remove();l.hide();f.status="none"},j=function(p){var r=p.value.substring(0,g(p)).split("@");var q=r[r.length-1];if(!k(q)){m.find("li").remove();l.hide();return}var o=c(a(p));l.css({left:o.left,top:o.top});a.ajax({url:f.url,type:"post",dataType:"text",data:{findNickName:q},success:function(s){if(s==""){m.find("li").remove();l.hide();f.status="none";return}var t=s.split(";");m.find("li").remove();a.each(t,function(u,v){var w=a("<li />").append(a('<a class="mwC" href="javascript:void(0)" />').html(v).bind("click",function(){d.call(this,p)})).appendTo(m);w.bind("mouseover",function(){m.find("li a").not(this).attr("class","mwC");a(this).children("a").attr("class","wC mBC")})});m.find("li a:first").attr("class","wC mBC");l.show();f.status="show"}})},c=function(B){var E=B.offset();var s=g(B[0]);var q=B.val();var u=q.substring(0,s);var z=B.width(),x=B.height(),r=E.left,w=E.top,t=w+x,C=r+z;var y=u.lastIndexOf("@");u=u.substring(0,y);var o=q.substring(y+1,q.length);var p=a("#moko-atWhoCopyTemp");if(p[0]==undefined){var D={width:z,height:x,"white-space":"pre-wrap","word-wrap":"break-word",border:"#000 solid 1px;",position:"absolute","z-index":"-10000",visibility:"hidden",overflow:"auto","font-family":B.css("font-family"),"font-size":B.css("font-size")};p=a("<div />",{id:"moko-atWhoCopyTemp"}).appendTo(document.body).css(D)}p.text(u).html(p.html()+'<em class="moko-atIndex">@</em>'+o).css({left:r,top:w});if(e){u=jQuery1.replaceAll(u,"<","#");u=jQuery1.replaceAll(u," ","&nbsp;");u=jQuery1.replaceAll(u,"\n","<br>");p.html(u+'<em class="moko-atIndex">@</em>'+o).css({left:r,top:w,"overflow-y":"scroll"})}var v=p.find(".moko-atIndex");var H=v.offset(),A=H.left,G=v.height(),F=H.top+G+2;if(F>t){F=t}if(A>C){A=C}return{left:A,top:F}},g=function(o){var p=0;b=document.selection;if(e){o.focus();var r=null;r=b.createRange();var q=r.duplicate();q.moveToElementText(o);q.setEndPoint("EndToEnd",r);o.selectionStart=q.text.length-r.text.length;o.selectionEnd=o.selectionStart+r.text.length;p=o.selectionStart}else{if(o.selectionStart||o.selectionStart=="0"){p=o.selectionStart}}return p},h=function(q,o){o=o==null?q.value.length:o;q.focus();if(q.createTextRange){var p=q.createTextRange();p.move("character",o);p.select()}else{q.setSelectionRange(o,o)}},k=function(o){return/^[-_a-zA-Z0-9\u4e00-\u9fa5]+$/.test(o)}}})(jQuery);(function(a){a.fn.autoText=function(c){if("placeholder" in document.createElement("input")){return this}this.each(function(){var f=a(this);var e={color:"#ccc"};var d=f.css("color");if(c){e.text=c.text}if(f.attr("placeholder")){e.text=f.attr("placeholder")}if(f.val()==""){f.val(e.text).css("color",e.color)}f.bind({focus:function(){f.css("color",d);if(f.val()==e.text){f.val("")}},blur:function(){if(f.val()==""){f.val(e.text).css("color",e.color)}}})});return this}})(jQuery);(function(a){a.fn.smartFloat=function(d){var e=this;var c=e.position().top;_get_left=function(){var f=a("#"+d);return a.getElementPos(f[0]).x+parseInt(f.css("padding-left"))};e.css({left:_get_left});if(a.isIE6){_get_top=function(){var f=document.documentElement.scrollTop;return f>c?f:c};e.get(0).style.setExpression("top",'eval(_get_top())+"px"');e.get(0).style.setExpression("left",'eval(_get_left())+"px"')}else{a(window).bind("scroll.smartFloat",function(){var f=a(this).scrollTop();if(f>c){e.css({position:"fixed",top:0})}else{e.css({position:"absolute",top:c})}});a(window).bind("resize.smartFloat",function(){e.css({left:_get_left})})}}})(jQuery1);(function(f){f.fn.Calendar=f.fn.calendar=function(l){var k=f(this);var h=new Date();var j={minYear:1990,maxYear:h.getFullYear(),defaultDate:h,callback:null};f.extend(j,l);k.each(function(){var m=k.attr("defaultDate");if(m){var n=m.split(" ")[0].split("-");j.defaultDate=new Date(Number(n[0]),Number(n[1])-1,Number(n[2]))}if(f(this).attr("defaultDate")!=="undefined"){d(f(this),j.defaultDate.getFullYear(),j.defaultDate.getMonth()+1,j.defaultDate.getDate())}});k.click(function(m){m.stopPropagation();g=f(this);if(!c){e=new f.calendar(j)}e.show();a(e,f(this))})};function a(k,h){var j=h.offset();k.css({top:(j.top+h.height()+14),left:j.left})}function d(k,j,l,h){if(l<10){l="0"+l}if(h<10){h="0"+h}k.val(j+"-"+l+"-"+h)}var e,g;var c=false;f.calendar=function(h){c=true;var k,q,l,o,j;f('<style type="text/css">			<!--			html{-webkit-text-size-adjust:none;}			.moko-datepicker { font-size:12px; width:170px; border:#bbb solid 1px; padding:3px; position:absolute; background:#fff; z-index:9999; }			.moko-datepicker a{ text-decoration:none; color:#000;}			.moko-datepicker .input{ width:30px; height:15px;}			.moko-datepicker .weekday{ border-collapse:collapse; border:#ccc solid 1px;}			.moko-datepicker .weekday thead{ background:#eaeaea;}			.moko-datepicker td{ width:20px; height:20px; vertical-align:middle; text-align:center; }			.moko-datepicker .weekend{ color:#F09;}			.moko-datepicker .disable{ color:#eaeaea;}						.moko-datepicker .block{ display:block;}			.moko-datepicker tbody td{cursor:pointer;}			.moko-datepicker tbody td:hover,.moko-datepicker tbody td.today{ background:#f09; color:#FFF;}			.moko-datepicker .ctrl{ overflow:hidden; margin-bottom:5px;}			.moko-datepicker .ctrl ul{ margin:0px; padding:0px; list-style:none; position:absolute; display:block; background:#fff; border:#ccc solid 1px; text-align:center; display:none; }			.moko-datepicker .ctrl ul li{ padding:2px 5px; cursor:pointer;}			.moko-datepicker .ctrl ul li:hover{ background:#eaeaea;}			.moko-datepicker .ctrl .next ul{ right:3px; width:65px;}			.moko-datepicker .ctrl .center{ text-align:center; width:100%; margin:0px; padding:0px; font-size:12px;}			.moko-datepicker .ctrl .today{ text-align:center;  display:block; cursor:pointer; margin:0px 65px;}			.moko-datepicker .ctrl .center{ text-align:center; width:65px; margin:0px; padding:0px; font-size:12px;}			.moko-datepicker .prev,.moko-datepicker .next{width:65px;  display:block; cursor:pointer;}			.moko-datepicker .prev{ float:left; text-align:left;}			.moko-datepicker .next{ float:right; text-align:right;}			-->		</style>').appendTo(document.body);var t=h.defaultDate.getFullYear(),r=h.defaultDate.getMonth()+1;weekday='<table width="100%" border="0" cellspacing="0" cellpadding="0" class="weekday" align="center">';weekday+="<thead><tr><td>日</td><td>一</td><td>二</td><td>三</td><td>四</td><td>五</td><td>六</td></tr></thead>";weekday+="<tbody>";for(var u=0;u<6;u++){weekday+='<tr>				<td class="weekend"></td>				<td></td><td></td><td></td><td></td><td></td>				<td class="weekend"></td>			 </tr>'}weekday+="</tbody></table>";k=f('<div class="moko-datepicker">		       <div class="ctrl">			       <span class="prev">	                   <span class="block"></span>					   <ul><h2 class="center"></h2></ul>				   </span>				   <span class="next">				       <span class="block"></span>					   <ul></ul>				   </span>				   <span class="today">今天</span>	           </div>		   </div>');k.append(weekday);q=k.find(".prev > .block");l=k.find(".prev > ul");o=k.find(".next > .block");j=k.find(".next > ul");l.find(".center").append(f("<span>←&nbsp;</span>").click(function(){var p=parseInt(l.find("li:first").text());if(p<=h.minYear){return}l.find("li").remove();for(var x=10;x>=1;x--){var y=p-x;if(y>=h.minYear){n(y,l,q)}}})).append(f("<span>x</span>").click(function(){l.hide()})).append(f("<span>&nbsp;→</span>").click(function(){var y=parseInt(l.find("li:last").text());if(y>=h.maxYear){return}l.find("li").remove();for(var p=1;p<=10;p++){var x=y+p;if(x<=h.maxYear){n(x,l,q)}}}));for(var m=t-5;m<t+5;m++){if(m>=h.minYear&&m<=h.maxYear){n(m,l,q)}}for(var m=1;m<=12;m++){n(m,j,o)}q.text(t).click(function(){l.show();j.hide()});o.text(r).click(function(){j.show();l.hide()});k.find(".today").click(function(){j.hide();l.hide();var x=new Date();var y=x.getFullYear();var z=x.getMonth()+1;var p=x.getDate();q.text(y);o.text(z);v(y,z);k.find(".weekday tbody td").each(function(){if(f(this).text()==p&&f(this).attr("class")!="disable"){f(this).click()}})});k.find(".weekday tbody td").click(function(){var x=parseInt(q.text());var y=parseInt(f(this).attr("month")||o.text());if(y>12){x++;y=1}else{if(y<1){x--;y=12}}var p=parseInt(f(this).text());d(g,x,y,p);k.hide();if(h.callback){h.callback()}});function n(x,p,y){f("<li/>").click(function(){y.text(f(this).text());v();p.hide()}).text(x).appendTo(p)}f(document.body).append(k);v();var s=false;k.bind("mouseout.datepicker",function(){s=false});k.bind("mouseover.datepicker",function(){s=true});f(document).bind("click.datepicker",function(){if(!s){j.hide();l.hide();k.hide()}});function w(z,A){A=A-1;var y=new Date(z,A,1);var x=new Date(z,A+1,0);var p=new Date(z,A,0);var B=new Date(z,A+2,0);return{fd_week:y.getDay(),ld_week:x.getDay(),total:x.getDate(),up_total:p.getDate(),ne_total:B.getDate()}}function v(E,B){if(!E){E=parseInt(q.text())}if(!B){B=parseInt(o.text())}var C=w(E,B);var G=k.find(".weekday tbody")[0];var A=parseInt(o.text()),z,x,D=1,y=1,p=C.up_total-C.fd_week+1;for(var H=0;H<6;H++){for(var F=0;F<7;F++){z=f(G.rows[H].cells[F]);if(H==0&&F<C.fd_week){x=p++;z.addClass("disable").attr("month",A-1)}else{if(D>C.total){x=y++;z.addClass("disable").attr("month",A+1)}else{x=D++;z.removeClass("disable").attr("month",A)}}z.text(x)}}}return k}})(jQuery1);(function(a){a.fn.aero=function(){this.each(function(){var f=a(this);var c,g,d=true,e=20;f.hover(function(){g=setTimeout(function(){var j=f.attr("wkey");var n=f.attr("nickname");if(j==undefined&&n==undefined){return}if(j!=undefined){var h=a("#"+j+"_userFloatLayer")}else{if(n!=undefined){var h=a("#userFloatLayer_"+n)}}if(h[0]==undefined){if(j!=undefined){params=a.param({wKey:j})}else{if(n!=undefined){params=a.param({nickName:n})}}a.ajax({url:"/userFloatLayer.action",data:params,async:false,success:function(o){c=a(o).first();c.appendTo(document.body);if(j!=undefined){c.attr("id",j+"_userFloatLayer")}else{if(n!=undefined){c.attr("id","userFloatLayer_"+n)}}}})}else{c=h}c.hover(function(o){o.stopPropagation();d=false},function(o){o.stopPropagation();c.fadeOut(80);d=true});var l=f.offset().left;var k=f.offset().top-c.outerHeight();var m=a(window);if(l+c.outerWidth()>m.width()+m.scrollLeft()){l-=c.outerWidth()}if(k<m.scrollTop()){k+=(c.outerHeight()+e)}c.css({left:l,top:k}).fadeIn("slow")},200)},function(){clearTimeout(g);setTimeout(function(){if(d&&c!=undefined){c.fadeOut(80)}},200)})});return this}})(jQuery1);(function(K){if(typeof document.attachEvent!="undefined"){window.attachEvent("onload",Z);document.attachEvent("onmousemove",ab);document.attachEvent("onclick",I)}else{window.addEventListener("load",Z,false);document.addEventListener("mousemove",ab,false);document.addEventListener("click",I,false)}var R=document.createElement("div");var ac=document.createElement("div");var F=document.createElement("div");var f,aa,af,ad,O,M,p,o,E,D,Q,B,r,n,J,P,N,e,c,y;e=false;E=10;D=10;O=0;M=0;function Z(){R.appendChild(ac);R.appendChild(F);R.style.position="absolute";R.style.visibility="hidden";R.style.zIndex="200";document.body.appendChild(R)}function u(){}function H(){F.style.fontFamily="arial";F.style.fontSize="14";F.style.textAlign="left";F.style.padding="0";F.style.color="#000";F.style.background="#fff";F.style.filter="alpha(opacity=100)";F.style.opacity="1"}function t(ak){if(!ak||typeof(ak)!="string"){return false}if((ak.indexOf("body")>-1)&&(ak.indexOf("[")>-1)&&(ak.indexOf("[")>-1)){return true}else{return false}}function ag(ak){if(t(ak.title)){ak.boHDR=g("header",ak.title);ak.boBDY=g("body",ak.title);ak.boCSSBDY=g("cssbody",ak.title);ak.boCSSHDR=g("cssheader",ak.title);ak.IEbugfix=(g("hideselects",ak.title)=="on")?true:false;ak.fixX=parseInt(g("fixedrelx",ak.title));ak.fixY=parseInt(g("fixedrely",ak.title));ak.absX=parseInt(g("fixedabsx",ak.title));ak.absY=parseInt(g("fixedabsy",ak.title));ak.offY=(g("offsety",ak.title)!="")?parseInt(g("offsety",ak.title)):10;ak.offX=(g("offsetx",ak.title)!="")?parseInt(g("offsetx",ak.title)):10;ak.fade=(g("fade",ak.title)=="on")?true:false;ak.fadespeed=(g("fadespeed",ak.title)!="")?g("fadespeed",ak.title):0.04;ak.delay=(g("delay",ak.title)!="")?parseInt(g("delay",ak.title)):0;if(g("requireclick",ak.title)=="on"){ak.requireclick=true;document.all?ak.attachEvent("onclick",S):ak.addEventListener("click",S,false);document.all?ak.attachEvent("onmouseover",v):ak.addEventListener("mouseover",v,false)}else{if(g("doubleclickstop",ak.title)!="off"){document.all?ak.attachEvent("ondblclick",l):ak.addEventListener("dblclick",l,false)}if(g("singleclickstop",ak.title)=="on"){document.all?ak.attachEvent("onclick",l):ak.addEventListener("click",l,false)}}ak.windowLock=g("windowlock",ak.title).toLowerCase()=="off"?false:true;ak.title="";ak.hasbox=1}else{ak.hasbox=2}}function g(ao,an){var am=new RegExp("([^a-zA-Z]"+ao+"|^"+ao+")\\s*=\\s*\\[\\s*(((\\[\\[)|(\\]\\])|([^\\]\\[]))*)\\s*\\]");var al=am.exec(an);var ak;if(al){return al[2].replace("[[","[").replace("]]","]")}else{return""}}function aj(al){var ak=0;if(al.calcLeft){return al.calcLeft}var am=al;while(al){if((al.currentStyle)&&(!isNaN(parseInt(al.currentStyle.borderLeftWidth)))&&(ak!=0)){ak+=parseInt(al.currentStyle.borderLeftWidth)}ak+=al.offsetLeft;al=al.offsetParent}am.calcLeft=ak;return ak}function Y(al){var ak=0;if(al.calcTop){return al.calcTop}var am=al;while(al){if((al.currentStyle)&&(!isNaN(parseInt(al.currentStyle.borderTopWidth)))&&(ak!=0)){ak+=parseInt(al.currentStyle.borderTopWidth)}ak+=al.offsetTop;al=al.offsetParent}am.calcTop=ak;return ak}var m,q;function k(){if(q){R.removeChild(F)}if(m){R.removeChild(ac)}ac=document.createElement("div");F=document.createElement("div");ai.boCSSBDY?F.className=ai.boCSSBDY:H();ai.boCSSHDR?ac.className=ai.boCSSHDR:u();ac.innerHTML=ai.boHDR;F.innerHTML=ai.boBDY;m=false;q=false;if(ai.boHDR!=""){R.appendChild(ac);m=true}if(ai.boBDY!=""){R.appendChild(F);q=true}}var x,j,s,ai,ae,y,c,a,d;var V=false;function ah(){if(document.body&&(document.body.clientWidth!=0)){a=document.body.clientWidth;d=document.body.clientHeight}if(document.documentElement&&(document.documentElement.clientWidth!=0)&&(document.body.clientWidth+20>=document.documentElement.clientWidth)){a=document.documentElement.clientWidth;d=document.documentElement.clientHeight}return[a,d]}var z=null;function ab(ak){ak?J=ak:J=event;x=J.target?J.target:J.srcElement;if(!x.hasbox){iElem=x;while((iElem.parentNode)&&(!iElem.hasbox)){ag(iElem);iElem=iElem.parentNode}}if((x!=s)&&(!C(x,ac))&&(!C(x,F))){if(!x.boxItem){j=x;while((j.hasbox==2)&&(j.parentNode)){j=j.parentNode}x.boxItem=j}j=x.boxItem;if(x.boxItem&&(x.boxItem.hasbox==1)){ae=ai;ai=j;if(ai!=ae){k();if(!ai.requireclick){if(ai.fade){if(z!=null){clearTimeout(z)}z=setTimeout(function(){A(ai.fadespeed)},ai.delay)}else{if(z!=null){clearTimeout(z)}L=1;z=setTimeout(function(){R.style.visibility="visible";z=null},ai.delay)}}if(ai.IEbugfix){w()}af=!isNaN(ai.fixX)?aj(ai)+ai.fixX:ai.absX;ad=!isNaN(ai.fixY)?Y(ai)+ai.fixY:ai.absY;O=0;M=0;aa=true;E=ai.offX?ai.offX:10;D=ai.offY?ai.offY:10}}else{if(!C(x,ac)&&!C(x,F)&&(aa)){if((!C(ai,x))||(x.tagName!="TABLE")){ai=null;if(z!=null){clearTimeout(z)}W();h()}}}s=x}else{if(((C(x,ac)||C(x,F))&&(aa))){y=0;c=0;j=x;while(j){if(!isNaN(parseInt(j.scrollTop))){c+=parseInt(j.scrollTop)}if(!isNaN(parseInt(j.scrollLeft))){y+=parseInt(j.scrollLeft)}j=j.parentNode}if(ai!=null){Q=aj(ai)-y;B=parseInt(aj(ai)+ai.offsetWidth)-y;r=Y(ai)-c;n=parseInt(Y(ai)+ai.offsetHeight)-c;T()}}}if(aa&&ai){bodyScrollTop=document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;bodyScrollLet=document.documentElement&&document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft;P=J.pageX?J.pageX-bodyScrollLet:J.clientX-document.body.clientLeft;N=J.pageY?J.pageY-bodyScrollTop:J.clientY-document.body.clientTop;if((ai)&&(ai.windowLock)){N<-D?M=-N-D:M=0;P<-E?O=-P-E:O=0;N>(ah()[1]-R.offsetHeight-D)?M=-N+ah()[1]-R.offsetHeight-D:M=M;P>(ah()[0]-F.offsetWidth-E)?O=-P-E+ah()[0]-F.offsetWidth:O=O}R.style.left=((af)||(af==0))?af:bodyScrollLet+P+E+O+"px";R.style.top=((ad)||(ad==0))?ad:bodyScrollTop+N+D+M+"px"}}function T(){if((P<Q)||(P>B)||(N<r)||(N>n)){if(!ai.requireclick){W()}if(ai.IEbugfix){h()}ai=null}}function l(ak){ak?J=ak:J=event;aa=false;J.cancelBubble=true}function S(ak){R.style.visibility=(R.style.visibility!="visible")?"visible":"hidden"}function v(ak){R.style.visibility="hidden"}var L=0;var X=false;function A(ak){z=null;L=0;R.style.visibility="visible";G(ak)}function G(ak){L=L+ak;L=(L>1)?1:L;R.style.filter="alpha(opacity="+parseInt(100*L)+")";R.style.opacity=L;if(L<1){setTimeout(function(){G(ak)},20)}}function W(){R.style.visibility="hidden"}function C(ak,al){while(ak){if(ak==al){return true}ak=ak.parentNode}return false}var U;function I(ak){ak?J=ak:J=event;U=J.target?J.target:J.srcElement;if((!aa)&&(!C(U,R))){W();if(ai&&ai.IEbugfix){h()}aa=true;ai=null}}function h(){var ak=document.getElementsByTagName("select");for(i=0;i<ak.length;i++){ak[i].style.visibility="visible"}}function w(){var ak=document.getElementsByTagName("select");for(i=0;i<ak.length;i++){ak[i].style.visibility="hidden"}}})(jQuery1);(function(a){a.goTop=function(k){var l=true;var e=a('<a href="javascript:void(0)" title="返回顶部" alt="返回顶部" />').html('<img src="'+mokosimg+'/images/goTop.jpg" />').addClass("iBd");e.click(function(){var r=a(window);l=false;var q=setInterval(function(){var s=r.scrollTop();r.scrollTop(s/2);if(s==0){clearInterval(q);l=true}},40);o.fadeOut(10)});var n=a("#"+k);var g=a.isIE&&!window.XMLHttpRequest;var j="fixed";if(g){j="absolute"}var p=1;var d=navigator.userAgent.toLowerCase(),m=/.*(firefox)\/([\w.]+).*/;var h=m.exec(d);if(h!=null){p=0}var f=parseInt(n.outerWidth()/2+p);var o=a("<div />").css({position:j,bottom:"99px",left:"50%","margin-left":f}).append(e).hide();o.appendTo(n);var c=parseInt(o[0].style.bottom);a(window).scroll(function(){var q=a(this).scrollTop();if(q>0){if(g){o.css({top:q+document.documentElement.clientHeight-(c+o.outerHeight())})}if(l){o.fadeIn()}}else{o.css({bottom:c}).fadeOut()}})}})(jQuery1);(function(a){a.fn.addFile=function(d){d=a.extend({defaultCount:1,formName:"",addBtn:false,maxCount:5,existsSelector:null,alertMessage:"抱歉，超出上传的最大数量!"},d||{});var g=a(this);function e(m){var k=a('<div class="moko-file-upload"><input class="file-text" type="text" readonly="true" /><span class="file-browser"><input class="file-browser-btn" value="浏览..." type="button" /><input class="file-browser-input" type="file" name="'+d.formName+'"/></span></div>');if(m){var l=a('<a class="file-remove" href="javascript:void(0)"></a>');l.click(function(){k.remove();return false});k.append(l)}k.find("input[type='file']").change(function(){k.find("input[type='text']").val(a(this).val())}).click(function(){if(c()<=d.maxCount){return true}f();return false});return k}function h(){var k=d.defaultCount;while(k>0){g.append(e(false));k--}}h();g.bind("clean",function(){a(this).children().remove();h()});function c(){var k=g.find('input[type="file"]').size();if(d.existsSelector){k+=a(d.existsSelector).size()}return k}function f(){alert(d.alertMessage)}if(d.addBtn){var j=a("<input/>",{"class":"buttonM_1 font14",type:"button",value:"+ 增 加",onfocus:"blur()"});j.click(function(){j.attr("disabled",true);if(c()<d.maxCount){g.append(e(true))}else{f()}j.attr("disabled",false)});a(this).after(j)}}})(jQuery1);(function(a){a.fn.emailSuggest=function(c){var f=["@163.com","@qq.com","@126.com","@hotmail.com","@gmail.com","@sohu.com","@yahoo.com.cn","@yahoo.com","@sina.com","@msn.com","@live.cn"];var d=null;var e=function(){d=a("#email-suggest-list");if(d[0]==undefined){d=a("<ul>",{id:"email-suggest-list"}).appendTo(document.body)}a(document).bind("click",function(){d.hide()})}();var g=function(l){var k=l.value;if(k==""){d.empty().hide();return}d.empty().show();var j=k.indexOf("@");var h="@";if(j!=-1){beforeText=k.substring(0,j);h=k.substring(j);k=beforeText}a.each(f,function(n,m){if(m.indexOf(h)!=-1){a("<li>").append(a('<a href="javascript:void(0)" />').html(k+m)).appendTo(d).bind("click",function(){l.value=k+m;d.focus().hide()})}});if(d.find("li").length<=0){d.hide();return}a("#email-suggest-list li a:first").addClass("active")};this.each(function(){var h=a(this);h.bind({keyup:function(j){d.width(h.outerWidth()-parseInt(d.css("padding-left"))-parseInt(d.css("padding-right"))-2);d.css({left:h.offset().left,top:h.offset().top+h.outerHeight()});var k=j.keyCode;if(k!=40&&k!=38&&k!=13){g(this)}},keydown:function(k){var m=k.keyCode;var n=null;var l=a('#email-suggest-list a[class="active"]');if(m==40){n=l.toggleClass("active").parent("li").next();if(n[0]==undefined){n=l.parents("ul").children("li:first")}n.children("a").toggleClass("active");return false}else{if(m==38){n=l.toggleClass("active").parent("li").prev();if(n[0]==undefined){n=l.parents("ul").children("li:last")}n.children("a").toggleClass("active");return false}else{if(m==13||m==9){if(f.length==undefined||f.length<=0){return}var j=f[l.parent("li").index()];if(l.text()!=""){h.val(l.text())}d.hide();a("#login-pass").focus();return false}}}}})});return this}})(jQuery1);(function(a){a.fn.select=function(c){var d=a.extend({},c);this.each(function(){var g=a('<span class="ui-select"><span class="default"><span></span><label>▼</label></span><br/><ul></ul></span>');var l=a(this).hide().after(g);var j=g.find("ul"),f=g.find(".default"),h=f.find("span"),e=f.find("label");if(d.url){a.ajax({url:d.url,dataType:"json",async:false,success:function(o){var n=l.find("option").size();a.each(o,function(p,q){l[0].options[p+n]=new Option(q.text,q.value)})}})}if(d.data){var k=l.find("option").size();a.each(d.data,function(n,o){l[0].options[n+k]=new Option(o.text,o.value)})}l.find("option").each(function(){var n=a(this);a('<li val="'+n.val()+'">'+n.text()+"</li>").appendTo(j);if(n.prop("selected")===true){l.val(n.val());h.text(n.text())}if(l.attr("default")==n.val()){l.val(n.val());h.text(n.text());n.prop("selected",true)}});if(h.text()===""){var m=j.find("li").first();l.val(m.attr("val"));h.text(m.text())}f.click(function(n){n.stopPropagation();if(!j.find("li").size()){return}j.toggle()});f.width(j.outerWidth());j.width(f.outerWidth());j.find("li").click(function(){var n=a(this);h.text(n.text());if(l.val()!=n.attr("val")){l.val(n.attr("val")).change()}}).hover(function(){a(this).toggleClass("active")});l.change(function(){var n=l[0].selectedIndex,o=j.find("li:eq("+n+")");h.text(o.text())});a(document).click(function(){j.slideUp(200)})});return this}})(jQuery1);(function(a){a.fn.LocationSelect=function(c){if(this.size()<1){return}var f=a("#moko-address"),e=f.find(".province"),d=f.find(".city");(function(){if(f[0]){return}var g='<div id="moko-address">							<p class="province"></p>							<p class="city"></p>							<div class="address-bottom"><input type="button" class="btn" onfocus="blur()" value="关 闭"></div>						</div>';f=a(g).appendTo(document.body),e=f.find(".province"),d=f.find(".city")})();this.each(function(){var h=a(this),g=h.attr("url");h.settings=a.extend({province:{url:"/area|ajaxShowProvince.action?callback=?"},city:{url:"/area|ajaxShowCity.action?callback=?"},callback:function(j){},isShowAllArea:false},c);if(g){h.settings.province.url=g+h.settings.province.url;h.settings.city.url=g+h.settings.city.url}h.click(function(){d.attr("provinceId",-1).hide();if(!e.has("a").length){a.ajax({url:h.settings.province.url,async:false,dataType:"json",success:function(l){a.each(l.areaList,function(n,m){a('<a href="javascript:void(0);" hidefocus="true" parentId="'+m.id+'">'+m.name+"</a>").appendTo(e)});a('<a href="javascript:void(0);" hidefocus="true" parentId="0">海外</a>').appendTo(e);a('<a href="javascript:void(0);" hidefocus="true" parentId="-1" class="all">全部</a>').hide().appendTo(e);e.find("a").click(function(){var o=a(this),n=o.attr("parentId"),m=f.data("target");if(n==-1){m.val(o.text());m.settings.callback.call(this,{country:{name:"",id:0},province:{name:"",id:0},city:{name:"",id:0}});f.hide();return}if(d.attr("provinceId")==n){return}a.getJSON(m.settings.city.url,{parentId:n},function(p){if(p.areaList==undefined){m.val(o.text());m.settings.callback.call(this,{country:{name:"中国",id:1},province:{name:o.text(),id:n},city:{name:"",id:0}});d.attr("provinceId",n).hide();f.hide();return}d.hide(0,function(){d.empty();a.each(p.areaList,function(q,r){a('<a href="javascript:void(0);" hidefocus="true">'+r.name+"</a>").click(function(){m.val(r.name);if(n!=0){m.settings.callback.call(this,{country:{name:"中国",id:1},province:{name:o.text(),id:n},city:{name:r.name,id:r.id}})}else{m.settings.callback.call(this,{country:{name:r.name,id:r.id},province:{name:0,id:0},city:{name:0,id:0}})}d.hide();f.hide()}).appendTo(d)});d.attr("provinceId",n).show()})})})}})}f.show().data("target",h);if(h.settings.isShowAllArea){e.find(".all").show()}else{e.find(".all").hide()}var k=h.attr("address-position");var j=h.offset().left;if(k=="center"){j-=Math.abs(j-f.width())/2}else{if(k=="right"){j=j+h.outerWidth()-f.outerWidth()}}f.css({left:j,top:h.offset().top+h.outerHeight()+5})})});f.find(".btn").click(function(){d.hide();f.hide()})}})(jQuery1);